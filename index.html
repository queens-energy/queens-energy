
<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <link rel="icon" href="melete-logo.png" type="image/png">
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #72431a;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #72431a;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #997f5b;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">

                    <img src="melete-logo.png" alt="Melete" style="display:block; margin:0 auto 30px; max-width:150px;">

                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Melete Energy</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="template_toggle_show"
                                title="template_toggle_show"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = 
            ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
        ;
            const templateError = "template_error",
                templateToggleAltShow = "template_toggle_show",
                templateToggleAltHide = "template_toggle_hide",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"3e2b4c454772a1701f4744dfa0a383dbd3a26d55ac729d02e29ff655a26cb4b318b35da5ce412ee844458ef47b6f6f569667e8952e40be0ddc1a0e7d5430936da8d5b87e0fafb1e707659e128cce7fc1c8da962bc1b5061999f82264436f830805c7f6be16e1c2015bbf7463f3a927db945154a6c2b61e52f25c78cc94e4c4c9433535da91b45972791620d41d0e8ae55b0aac52e098dcb1cc5c246a2d494a8fe3b5e2923f4cf937fb2dc2a9120a575b47a63edf24597ef33b412a4c96f50e09ee8b990b358679bca0ae2ec31202a04637df8346cdee6bf5c8a58541ea71eca9fbbbbc4ad793863ee7ad4c3d3ea185a72e78a97e8fc252f1616bbd3f480c03b459d14a135daa4f01fe86a4fe196fc2d8e77dda6ba75bd5ee9d8b96d0886c501d02a9c3640d71ad49361edf2aeceb61bbbeac5c9038fae64ba7e61b1de1dca6127c3b40431e67ee009e2ecd0fc92fbade37496c7c7890d67bd4915de860fa5b49e04101cd75bb4eaacc9d8a50e1e428fbc67b75d5d2f018a4367f701262bb00c1e97fc59563cb6d8f1a9f107ce2f2efd76869c720d9f50c7e282c33a0afeaae3340fa76ef20a7441c060dfa18cfa3c213e60416f0de8a97bb0f8b5d51774f1e5732398fe3f54e583ebd4d7deb67d79b7a6f19da1bc661b92293de32c7c8e9af6eae6bd7c38474126388fe733f49dfaba807a1d608f19b0fbf23da398d58a80cb431ddc1d85decd7e626fdb167dd9a6653aed7de8b1075fefd3e432ff0048ccf579aaacc927898c7611451b23145e51b644c499e037a00639e663cc180161af81f591ae6b84c289740d17cab7df48b8f70518fd256c778af7fde8f11c16648f64b71fe1af9048fcab7449a1606f3127bebfd4aae2fe49c8fb58e81537e464e6e808b7a72b7a205a28427a90335b6bc5cb3a4e494142dc09da11f2ea68be699b124c95a0ea7bc59757ea79fbc75a09561fc0d2858b61bd53c1c6a3c56af3d98531cce3185b4649cceaa858506b0fcdf5fb2ef299d35d9be1a6aac1e0596a7c433a82d06ddaeeadc254dd447fdcb52fb428a6923e6b1195b13bd7dbb86e45e676c17e054dd8d6364672c55091068b5cb3fcad70ced6e67430e2e2df9daf8ceadb482bee006555a9fbed4df9bc3012650b3f324ccb019d09669f6d27ee69591694664ca98be25854e6a5c583175a9c198523fe685a10baa934245ca9f6f27b2b4e6d04ae02765f4d137e1b5afb345489278d58aac7f8e50712f965c909ff410dd28004c4a9595ab8733fb41c5058914ea929f2a1e83678fed3ca28f4172ad585bbdab4fc974d1dde7298f322fe9abb784aa50e416ff7d52b46ece14ec2892c1f2c35fad4d3c8c9fb14de9eee5cab464423212f1b521e96cd2e7da6a3be9c954673bd14e2ced3858ea30c8c421201041eb70158a0144f92f83f12f027e6b43abc7027b0140fb071a6c39ea31f9e0e2a7d12ecf05bbc46dad3fb933ed9f4d7ec58d264f758e31a058dfa8b39c374af6d42c5166c5097af5128814c4868a64fa72d41cd6330c76845993325c481924719ef66ef6d1432ba18863e5faada707d04e2e27ebf421b3acdae4918a118b0ecc55d3baa96f75cb7155bb597e2a0c2933d8ec5b01ef561e1a624a7622f0018a7922ecc073c6e474ace8a927151eae92af9c820ee3d0e7ee366d37f359dc21c1c7ee404c965efa3aadb0b9c592a31312814cdcb4609a8830f09902f6453673b8639e41ac852d151dfdb7c07e365397579092f02f5eba277f4ba504e794d520f41eeaa0a1a7944d1e6e1850486d9ca4ac958012ebef9400b6a00aa2ef1d184d423c9eec2c0cf076296dd093d43fab8002f5cea4cdb2d2e649a7654ab3498d007cb8097b6268b1d1f8b5208b385293197f2b15ada4e9a2dfd54142a6728037443345dbace71ff4b17ab0e970c2175701e7bcccac3f780ab345c59db1569c25dbaaa944209c930359841131fcdcb928d2456b1aef3e22f216e40214dc8a46f713aaf4c4b984fd5ffdc8a748e16729c63af63b81e74febeb5c7d14953dcdf38d7a1c25ec617b1b5075ee22d9ae6bf179a0314891324c14f0fc4fb4da2143e71f7d87297ae225f7db0b399bacd082de7b23a7db9f8fe6d6e3112db0690bbce222240b5c2dbaf9bf2363ad666f19b4a164265e7a94c049fb589d525d306ad318ae35af4e30aa12d03eaa7fe3ac30ec15578861479e79700973b77773a64979e034310f96c83b0602f4244f6650bca7bfd52b2772f5cf159d9580665209bc745640dccdd8f815649bc7247cb3e31b12045eaa783b682d8656460d811ff47241a0659350754248f5571061cea485fafb08848e5392854ed0a9414760ab45881cef3420fcba69f274d52c8ada8dfda4e1ae1a7118d8c0811f99770c752f030e91045593687ca9c731a820a49b4c9fb15dedfc50f1da8a574e1e9282c52b81c4806606c2febf0051a32a5ed32b916bd237c931f38642015a31bcc7c57b647e80d4e475ca78d3a15548baf31482ab43dccd533b14f6db64decd7afcbe2ef5d04b7333d343cc59d5d4ac5d77f53c34e861682da83f8fb31a30d0d52c28344c3025669e68a85ea0cecb2e8b498830dd5b68ea2a316902ef30e5fb17aab5822c642424a7fbabcca87021127b7bfecd80b73561144d2b6dd63c77adea8b4d1d97439caf6e432ee714c116bec8a40f5d983b0d20356f21a7d0d7058e1b570051aca2e7ec00a2d21cf1e1403936f7d33a4c83a67e56ef805e3fc84cd034e46fca02fad6968eaef57dfd68e02a37d015a1460dc63baad8e28ebb2c36649f291fa391b3154dd26e1e8db3275d8ace11b6f1a311e92b96505ace0a7bce2cef91aa68756ae15ecdedb7b523b5e5aff8370fb067b02d761b3c17153755c23df0ff83d0eac2e15dec83f3ba9f62a4afa41a60b36773ad58883cb13773bfa6de18e3d33abdc7421c9099216372d4f3138e7bc6d58a597b6ab2bd8fd6af049d64b5e11b940067fad3b3193b14df1b0a4b323ecd9ee302e1f4e4e190078421d541a6426ec800bf2f5494626b15d279ea8f7e2523f927e66b7a588906c70c4b52f4fccfcbb3f534534204124e369253e0c81b48490d43b89d7c8130b4777acad11696fdf5d5828e95f7d0cd1f042ae93f58de1539b2c5898e97c394573ee370caef7f3f20c9bbe43dcaa5198ace1c14039800df5ea9c533bc3e3cd190114f8fb78b9909aaa817783f55d657021fb8c1bcfb5ae3c0b2d3062962c9faa8dfe9b8e0eca572c7432669dc1d4e6706029454c5d440908c4a69087d9d2cb1c5803e0e80515a1616e46ec5e956cbbccd41791948436c1b80f30937e518aa559174bd99a81caefc04bd2995087f9451e0a2b2be00519d5cf06ad7c44ed2594a1d9c0b0311f09676333f74d1c97573f5b26dd8cb59f04c57b8075904c2ea5f942aa915e00fb6f23188e6a7a3553b11ade56d239ea592043ecdd796aa52f02bda1435e74bdaf18a4c549027a9c6318af35f45447652a2fba3d5d01d86decefc5cc27a8236771480949d1c0173caec6633faf8b0c18ff84c34916a6ac4e8af7b31fe6fb3a7b1ed72f11321b2079f1b6a5d1ede9284aaa8c5740486ba49a8d4d50033becb1bd2a5b63d1385ec9cbef9258c0d7e3924f5b774170b81858fa26f428835967493483a101d1a9b8523a19e3d00d61bb1a0620ac8820b5f3880821638801171bbab8278c0ef893a56de0aa52d01397ab8bc0b1b0821d7182c165bf7a5c7d8dd4551d3d2b65e26c9cbdba4bbc22e16eb936156f5ede1ddcc6b10deb6c6cb0b59fbb3c1cf8001a8b13a386d71a2f956a75b70647cf7f3d6060603e72e8454800dad7dd762b8421cb3b1f335709dc9f8b8df0994c7eb86a136799632123c158f79b1e5ceaaccd6570decef1b5562fdac31439b120aa392cdd0678a0e8387ae7bdaa0a3d7b94d8cc0fd2891099d18af435127e001fd33dc54c99634beb8c11ba7aa403ae1412ccf26b8534a5c5144a4d92da960c622af4c6ab888e2d6d9636f924973313ff90ebb9b641f8d0ab088b95d61c7830866066822981d964b764d455cf5f8b8644b22e0267da2ab877289cfd766f6a4f46c9a2c940040cdf7092ada66cb717ade8bdb0fabc9cd6adba552700dabf5a9b17d212856a8a69ae6893193c01bcd98b6647560300be663c38e0efaf393a382229c414750c5dd18b189e423aeb76722a9dbdbb82b1981529dc8d7e55266a073070fb8f960cc4b5039f198616c5d0342df73a4299c3d13b566e70f0c8a8735fd1506db6f699a01245303fe4ae93c06674b315f39755cf1b450ecdfd4b2583e02260bd1d8a2580640107c3ade295f8404dabf64444edc1dcb220ae6a3bc033e060e7fea096c63b3a8bb56b5d6466790e8da74870281ecd9f1e713574059e640f68fd3af0edb3890f01d1b845f3781cd205a88d787aaf752f730908b7081a11e44cae012697146d2724d8c59ff9ec8cb344c847a11040d98a75a20fc861dcb737469fc97bc465654e6c8982005469fef088f45e3bc1ac66ac4989b73897042381403a2264ff3b86a12e66e89bbbbac7c8fc86601ef78959eb39ae5e34d5d46c05d73627210391cf4c0ce8920d1e76bab2e1e34928970bc5dd3481086ee616fa6f2dc8b7b71a519967da43b2b86dcf76ee973d5c601627e19268cfdb965d0bf0e919a2c7d1182f33197c921f7d2ebdb660082fd6af44290b2354118007e80df9d877d606459a4967f31fc94eb6f46d644bca6ce70bfd80355500f0d266fcdec8578c8e1d8684c09735f142e88b113fee7795aff9f4acd3521e9e18efac1eece5fdf4eb8feb0b3782ea6d6f2fedf9ac2b32cf19ad4eac76facd95ca4a6e25ccc5c8c56bea85455783f1ed053505802e526c0113b350d067c728a2adbc292de1ca6e6b41faf33ece47c559bd24fadc7f7165ea4862da1c2bff9d17a446488540e2b00dea04fb7e2c01c4004771d3e7b0980392f1622a70411662d91c46631771870f8fc187682b9102c7ba6a6d0c5276413ad52c781e8841e5cbd0ab2de7ffb24eac5704e035c13a29da9836b226bb6a2687a957938eaf53f15da637873f1139b501e4d1efce452aaec2a568b6642d00d8fe5754c7be256e11b421f39e0876efb9ae4493562c58fc4fe2510f206947b24b2b6eda5b6da57e21826557efa1e2cfbf77bb72a0202e89b18b192388f8809a4dab0cf097d7b5bb23469bcef5762e1d6ab0fb20c7974f8311911edc8e63e965dafe48c21bba44ff4e576760789a0278c328857cdaf304b760360c654ad7b85b2f53902d49999615f0a02bd2c259b84f9ca7f01588911c6fb91c9d2cfc116ce383bd32ea8fe4fc5a91a3d59cecdebc9fd35c8f124e51b0a1bcf9693d868333cb5cc0460b26dcb50bcd6b1fa8c7fa82588e03b07bbaa3060c990db80f3750e440f826673f9ca1f989653723903c42bc270d18ac32c92f2221d96830a1585d1bf9a21b3a749bfdb584d24bca86d833803b43b0501cc4a3549bdc49d3a3b7847b65af3bd766111a48256fe0f6194d59ece9a86927157afcfeee19206e5f0614fe676879d91a7fc32072d708193f083f5acc658cf2a680e01f0521079d238593ebb2e9a6f6d2cda59e26d3a7ac04307377fa1f15ad3c0d154b9e0f0c6d455b8f745a88e3bc8c659a889bd88c630bb6a08bbaa0c1ca108494ddb6eff6f56e0da05070f5cf7ac7ba2dd837ba11654abfedd34d73b1c6b16d98fffc482153a6ebc7f528bd4093f1ee0c6e453e1049b80b94070afef420baa496bbabec022fc088f74eb198d3b98250a11ac0159d06742ce2d6ddf224073b6ba8c4a10aa37a7f6fd7231f011d1c50cf0be6b0ba297c416864f80bc3bc3bf8605a3c3e8b22947ced986111a53a25e33312369da4ecc92ebf641cd874bf4230cad148a5e3cdc4b5345ce087b5132426c0933fcb73a7bee7d468bc3165fc5bc3443e2f51ec88db4e405364d2d0cfdd61028173ef11d780625f961e946eecb7c9b06d67f07fc25d26ea7e929e9e9066a420d6aa11f3710fc4f9c8d6a5e36d78ae36c30f7181e9afc9955e8accedb128dc83b54b0a1ce61eaca0c615598314f3a618b4efe6bb9c4107a72efa2aaea946474bb674c91a65939879d233903f662384d19461ff4a6093fdcf83660a246ecdd06def10e0d35b46e40307e52c3068472ead70060c7729e8f5274481d95103df87e629bda3538f52c589220e5b7e8a53f927ad32606e36a9194b5a06ae753741e9bd3f754ee6ec9669ed28a03786da8d9cb9e2c208da33eda818669851c51e3fa413da2b4eb519eeacea305fa86f6555650818cb686258b91cc3232b72021985f76d905037d04e8edf86ae0570eb13f125c0eb5e44177a22ebc244fe8469ee995747d9a1cf593f8076f7a67f22b2124e7044c5f9d49b8046e8a7268f7f4fb4bc4d36ef97b5aead677b0b946d08445508489dbfb8582a76cd14c116de1f3018be3b6cee391e9c1c259c36be5ce58e2b28414aca679daed66dc04a3f47cd7d77ee7e42f07bc3ba383ac1e36b5a7fc7ec6af54a95bc467b16b2e38d3b183807f025180feb10ffa6ca1fd703c2113e7828eb48df7d5eab8d1cd69d6ce8c48a03db3eb95a8b5ca6484d627f8c1dfcbc65b160a82f5bfc4f8c163c9a80ff964c00132cc5a43d235e79810ca9a977c1cf45f87675f25ea5b1b862b5078bdbc9b7a34e4a271c96ef646603a7b803c0b622a883a129a3a5a6d971ae51cbf506a178e9073e56cc436ebb900b6396fa65bc7a0e0dbe7fa31871ab2a33560f09a30cb81cb03353af1b3356f889ec71cdeb73d3695d5fccb6593e64a63ed0965af59f78bd4c9ac043c62e7ce635161418a7635db3585f72590b311b9b7b9d1e5cb51c7cd531b6e41ea45c5aa20e88aab687bdc8e896240a3a7ff5dab7e24dee0ba3bfb8030cd4cf6146e7eb9c4a48873bc68f63006d6964ac13d22fe87383c88845658c9d589e3d885120e4e799383407ad7dc0e68ee5e495898ab3d72f4f40c55ec7106440bac61bc14ec393d7b6b706123da3c5e01978e50c0c9e317f0e2cc68b1969f98824aa6c05e22637bc9d37e106a2f25d8a3db22ef2bd7367ebfff08f2a6ae8d1e560eb97b8eab64a2d65e973f7d5acd318072fcf7440a38b72cff878d24dbd8a17ba581ea9abd6fb3869cd9bcdb20f6a32a03cb7d474318218824cd93aeefc768dc025f2ffa3fedeefb772835177d1fbd5b52fe6aec90fe83844000c370083ffcbcdca3cbe2440f0c173384beda59bebe9ab2851750382ce221a4e96cf043e904dd4e801eb8368d1fdca22bab83691c90c8547600656d2596ac5a7174debcb52a21e598911072a12a22080ed2917590d5b8e2325a314da76b43b25d129f85e278d3c3cad8eb93e49faf61dd9961d9eafa9ed60894f6ff8a3c0d956e9f6b08ac521fa0c994a8159745e437a50f9a804ae7ddfeb93c4c09e13c91b94dd54313c9e0da666f35b077ffb1c9d370a16fb8c41553f3e10f6a83a4e381cb83a7790eb18d88cbbb62d734fc101838c0de642188f0fb437dd4b4c9940d520b355a86fc092ce814f9c110cd868fe538324e49bdab9f8360ab40c60631258dfb37e23afd914e1acbfe4612b9823a68888a52fc85637b05c88adf0937694a18788411f0340f2aa209b028a9859e40c9751ab9d6b8530659007e4f8ffc3cda99eae47c0fef8b2bccae77a5f8f0c073ecc4f9df19aacf877e2ea2d7ae796f35eeeb9612f25b72542ba04f58ee04e9dda9673f24c2ec739bf0b2f34e2c2611d6969b712e4763386cbd4a5c258c1d4679245fdae9d70006dc94faa7b6bf882e1f50ff5e6c3206443b481d21ae1b289f759e83db379373119aefcb51c9c7ea8f71643e8a8dcdd4a02e473693fc6f72de0764edd50350964aaf22de405ce0b4b71343776a5a8557056c41cd4dcf91275d6b374272ba91b787c8c3e16ecb64bd65b18aa27f23e8319eabdcd4075df34072f48b93d88aa943753877be42ec883d2908ab13cd12f8c4e556a03da6c72fce7e3be3daba14a27a497f59bbae3fed1e0fd7742c04aaeb40e6cddce5afe4815b29bbdc9f80898dceb98f99298ccdd7fe851ca32bc5ad885d7c42cac1208810e53e1e11e38e162fc6a4e6ec89801fe21466d7e1690a13c075fa1fc068f99bf9aa274d22a10d3b83c7bccad9b7493bba32a290b5e0ea9ea1e75e0e1d1e99a9a294773306bc4aa18d584de8b1295853c829d4e795878bd44f06bdf286eca53bac4be4357ef4f4b7faa43fd151417c07e1e48d387e38471bdb465cf658bbb6c4fac5a87443e2331dc0d22bcbab7383c7d380034fd490052b2e9e200fb188b9277728fddd08e53453d562c9f64fd4085f31a610ab0127a6bbf5e3098cd6b93d75d45770ea9db556fd525f20b0eb74572d3258b76c10388b0f381fb693d09e5bf5dff4c90c1669957b7245d2ded120866f77f6613b2463514c9e794a0a4f9b0815e10f3a928ad51d518d38a21e22af1d452c3ea38c5b4a03e9e726b467ce635e42517d7bbc507523750cd8004f4f59a8a1e8a9c07b8e5a7d6852c486bb05613e20988cd5257f179f5a439ab19d3f628f45cb3d763c642430dd3d7bed7f02c3338837e56dd057b86c51a17c59e3bf8c9564c4a7472f47f9029ba80772472c63cf7546a52cb4e5e59ba88e7861a847238156491c52d6eba6925faf20536aaa608b7a08333e9bedcf18c6cc97e4fb7628c5f5353b0ef3c44ecac14196cf68344b98af02a7d36eeb523d85457e86a6344ed73daf2e0541dd20e00ed419f87f5b2940474b447a296fa19e7e1e08fe803a22189ae30a107e978a2a5a416a38194aa416fc8a633a7750d23a8cd57bf583a9a02b2ab06cda0716d7b12c7c5fb792f6ae1f7998bac93d5b5b42843552d352bd797413dde1bdfead3398f28d0db97d7c85f81d2778fb1508258513cd031e372d9a185a8b0113658bb40d0711a4585dcd670c1e57fa028cf61e7a3168c9416ebd66439bd72dc97caf6562d273b8da903fe370e1c2b91d4ecaa1fe7b8db03b34e4742cfb363534c95a80ee8fa76e9e54ea92de93b2c74dfded8757d994a7bbf26db19e6a517998900876cd724e96620b34565cc57e6f2e09225a1ad289134767cc08d57edd08f6e256ebc61ad10728c71ab5f7b278426abb3c89b204931fda79cdbc5393c97605d572d9b0c5332a29f2b6f258fda6d4fcd6f6dc8ab7bd7b03add1a511f26b77d44b48347a09f6bed7e97faeabe5ee3e047efc3da1e026ffb9f18af07a525520a6b019f60d2a58c885994c38e4e3987c2c55702f67a6b9f43c9a8d6ab2ed7ad0ae08c5dbe7e4360adb1f9b41101b03b2d6dd3db369f5be61c120451fbf1e70da643fd5a841967265cd8591cd5a58fb8fed8cfe7e5406911a6979cc5ab6d3922b0196120f2ad49e275455f7b159723fd716a6aeeb7b1f8334f2468fab7325a2aff67fd595b5b2402f821e0652bbf9593f820aeff9d8ce04c42056153f631cbe79e5e2888285c52f74f31a1b5da80616542ad34f5888105fc0c708bcd7d94f25a8d2894cd7b1e6bad92df600f4d51d510acfd1de5e0205a70269561497964431ae2f9090cc37e406b4e4ef25bc48c9e995c38861a7487e12f2bdbc020f44e73694de1220adcf9038bc9d0ee1e97cc80a36654a2078fad370d669d76964fb4259f5063377d128952f05d1ee6492cd04de8e00e6f8fb1489daaaf71c6ad7449b9578641ddd3d215f7338241a740c0241b8cd4867d20f6f7f0d36f2aa92043d97566461d1a34b9190d13c8293466319e4e1ed0e06fc39f0389165c892ef81ba550feb4eb9faa0a1189d55ace93dffcf862bd86f8c183eacca34449f5062ca2797022a1bb65974a64f4c17241d010e4a9aa0d0251552450c160331a8a840ea4632db3d1ae3d8e14e0a0f5aaab484ebdb227b8801ac468023ad0fb019b9336e78e1339a912be94d900f48b00895651c9fe3e040297da59e035b5a45615f4e568dd4663ff80c818e6b1567a94dfd618594d930164da455b451b82884aa3c262834e6f099548a0b3fb9e8b36f2d07d7a8774b8a15e7a968af2d6564887954547235f0b71983e13e530f60063d25938e02f69c7f9fb68e545e86a41063b494ded0c82197508e0c6f7e8a3d6f322f6313995c1b323f249a81ba44055373e4866884f6211e649e914a7d0ec7ccaf21af311356746f7d38b75c77cc741fc1c4df40c561dc11a8357565cd17175800f287c25c3b365f3297d1eb450ed6dd0aa7dddd9e9485357b968af6e8a6b1213af2088374b8867560eb9dff987dc2fe8671ede2b99bc595145b9405374c3ab4ae8c27eedff63f31571e2faae57476f821376250bb164bee4fc4c071ef5b7004a0604472d64b27cc3be9083d88b49def5a3f90f616cac9bcc391bd49761e2c9eb6b03cff25f1be2e5800e5aefaf67b82ec58c2f70966403499ca7559b3323720de757cd133e1bae5c1a914d85975e9641df0de3dc959f1d233c48a4ef968c3a7fbe0d1df9bf0de7802d1c259f742e5467b85cb372d067c2af1fd4cc2757aedaffb04fb6d4929a34156404007053713eb0f74abe550b76c4908b93b616f2e8ff9bb1a6b2c9bec73de13fdcfa616392df86c7799b9f3f4a8b3fcb720a7cb29f83beabdc07792e3fdd41bdd79cae3590bd359a36c7b9248cae490001c3d29daf7a4b607af9dc796c3085aba31693c8e7e4cf054ca6fc61149f7857ea089cbb96fc1850a077d8f2bef1c2c8ea08fb5b353a5f3df711f1b9771a508cba711f8faaee777fe9857cd2324a60ade6b6dfa9166ab92caf06b69160b1c2a4b74f091e9c66500086e3a4636800107deaae565aaa77a5e9c72487a9923b1ed8acbb8b94cd30fcd3805291fb3aa40b4f67c78449748ad755888f9f5b1f6bc6bbef8bf8378da2e618c8c1183d2b7ee1bc149c8d2816e5376ce23b094e7c1a6ab818dfc73f273f2ffba366d1ef9e892dd69cd6310081c5eee7794725e707dbb59b7ce45f99a29233d89d8f5438939da965a2cf95e2d36856a90f0501c304da6fe24367042c72ea601ce57e55814e6eb3161493e45cf20b0501e4393aef1ecb2fe7a9f099a41f1ecfe20fdbc1399400ae567a3980f195c399fad026ff4b2b08f4ec580e008fa67f02835104db66efda078d6a061372a3e7058e6069b95ab2ee00e29d19e9a5d424e28e1ef88a654a1e6a8eca43468f9bccdef4fe67ea745a3c8286cd88a8139d6eeda10af9227a680be18d814fb1438380da3a1d5e12d71284f25847aac5619580ba43cfe5b02d8d38c503b910dd335f3bbe8cf9127d95e225b5a3ec6f3cb5934ffe4dc0459052f1c1ea09de610bc03809ebca78c4f34abb4c5737e7274dc470a46f2cd349d3591a02836f2f1183df7787706062586fb5f311e02522fc803a6cc0cfd466639a7fe1af4286bf1f07d1ca94a786dc177a0fb6d10ecdd679db4a8aebf66714a56acb834a58c211bfd4b4375acad6e44b3748f3aecc096b990a6fdb039b9aa8948580068393a5944e0eaeba7ee4602ad3e7bfea68e83e59cd3d92a234f1ea98a8091d1e037112c4c5b33dd79475e40feea39703fa3520190810bfbdbe3dd617099cac02039958ec92ee3deaf401bcde191cebdc5c7f07352a9e817c520ee2afe785c1d2c161c2ab399525f8cc080c1a0cb7c9011f2c740cbed1ad317f5fdcb3482a0b287c366c75b8d4b52843da88eac88334adb70a3a38f52c6d1089d5e968649620ebdc57fd720ae1fb0530801632d64d0334ea84564e0d5a0977ccf5f8ff73c60b587ff532d7cd19569df418d7331a28e7f9dc6b812b887acf60be8a28df3ea078100911e156aa31a5d7d274c69584358265be5de4597106fd2e856cf90946480c7244a8b018d1aed0521b9f8e7709b25bd61428adf13d0fad87d07f6406436ad8e413d88a5bab38df6f575851a78bc11f1e2c52a2f3652265aad00dec4521816308412b894eae25a8a09826faf79b188b53d75fb18419e710138b39471c6ac52f2e26468cf7d2685efa23611b1d5b53604b2e238da1a3658e8295a5ee55ff7b028991a7e220df958a9aa49d6aa25305a67bad46673683e98ad7c871d0bffc5307671d1cf900c1841832ce88e4400ac6b29c04c69a081cdfa7f673bdd967b80b877fd2225e3cb26212aff259ac6f1da5e86b717a7719281118cc6c9e9826849cf5f26a96c77fe39b69648e7b4224e1c900cc425b93f867c4d0a3ef141834b5ccd5e48fb343e01ad0afc448090b45d1aadca8f18906f0299da8a8a889210545360730df143d5c09e9333a4d02d4e5ea66046088b4deec2a7dbd28a4e3f1c57f5efce842662ef621568eb9709c759b3825b3fc788076df2067ade54f182d63ca0fababf0a953c9f2c41c8d471acc66823089df331678b6a4bbc414662794d92ab60a65df15aeef00958a02c29c3cf670e408478d344e49948c3829cc1bf2ec495a0df413ceb28ac221b1df399c0f4a87bd21c402091f0c26cbdd2be23ee29f67c81773a81933ff0f91d2fb5b1d83194517bb0b32eaca2dff0ba4199eb17d8d600270312d89c05f3b62a357c595b3abbc6f57bd894c14d8ee9bfbf30e1be0cdb8c12834597ddec96e44a2e5bc91908cf8614dc0dd2eca1d55ee1fd85b87871b85e1cd65afd1e2cadb009a70cb5227b280c9eb19daabd1837ec7610ab033ce23a54761acb17cb765e5321c6cadbe1001eef155d56749fdc6be84a1ecacce70737a1599a0a0aeaa5f6bd28aaad10023ec3e907003df5cd745efd04f4000bd8880f034901a5faf276b5f420f4270d522bc967e4e9fb68c43bdec7b3345d1020cd5d54971f1c57fc0d6ff4a29d91aa41890f2d97724ae9859b374355bb71d9f227480e177f706344abbeea0c0959df6b24d4a5dfd1acf238d5f736cebf77ba8a058c2eda496d1a2cfa3cda8f93989391d59414bd520121804e1f5ec7691688b1e577e91a9479d70bcc3d5d7350aee9c34195fd5939f0a2c17cb982aeae2fdea60a91a2822bf60244bdd7bf117523850f90c7f26b580476087effe510b81e0ebe7a8fe3c82fc4438eeffac76cdd3fc8d26342320423c9bb979ffe936310455b11f65ea832aed8998ce013f030f9cd40229a5941e19eedb03907dfccc3512008e5539abff315ed9f0f9011c1dab27c30b31194b259514d8b52e5efcf7fe07838789a1d1e6dc955f8208f5508b8ac7f39febc9d0ec87b3a082adbbe47fa7c0b717baa6531e3d3af9425be80183b56e06e98f0c1c52d16b9ac79c129ede5ceb11d956d1a748cd9a3c896e8c9a7e55a69974a2089957484963d50bbb13d5d9f7c3703322ad257e46c74408520fb4aafc435155dd57579ea2c43a205b17c8ce195b3de28def7df8df92a40a9ad46ef6b5fd79037413bd870e08bec3e60bd0db4ce3b47b9fa0c94d3bce4a4e441897a991fe14cece4abe193a81976354de10a675faa5d354924ed888f82f191da0f7c04909c178f7b5d374356ff94e60ecc4b2ecd002c026a1892aa3872938693a850e541cdaef796da710eb9ba7fe7e43aa6974f22f5616e78adc4559c2fb5cbfc765097cf6b5fb529c3ead9e2961a8abf2d377cbc0b04411e1a0bb9e59e1695340a180068a031a6e030e44e2be7960058626ac215b6736a2325916ef65a03d3b8e0709f20901757e4f9021df655c02b5ad9e718155206ff4fde8fef60b8d98b5f666c7141752db2772e7d4bb8a6cffce4d9bf8c10ace549c75359672ff04153dd281252663910bfa500be258511f512d18d1a5533a0e09d828c77a9fe3c1c42c312f1ab67b36bf5367605038fe7bbd50523836591547d76d0336973c645a62d24fc20e03e5e02653a854bfb06e769dce9f65e31ba8d9e58b92cedb12f9f20a710e7f32dbe053bf8c6a7da180574077b33c2ca2754a0f6d063ace0a1aa23be5b7279e99506a23578dcebf22d6488b843039ae1804093da0a469eb7946d143e1acd991b8c99eee2ecb477313f808d897a908f284af993e19cbefd2636e04aad8d7df2f151d9c5638a01667b4e6c751a0c76017183717b619d43678d4bd15249121a619dd114b4ad75e91227823a535502d4e14fb04ba8fa005264ccb8079ba1bc936cd539257141645d7d4a74b33d289f32d3dddf68fe4bb96d045427792934cfe87f943791bbf6e48c693bfe39176d55530290ca554b0ed0fb246b5fe430d7b36fb82eb72c220523735f0ade18a54676d4b522bdc50341b53a712078b66be2a422597528918544ab081b21705d2095061e8ca59485132b0e14efa945203d2c9e18c06ca6a9632ef5f898fcc55dc7c2dfeb750fc32464bb67ea0883eaf5e56c951a185f8aece6483274a1119425df37ae0532fdbe1e8b7bd03e6095e4375156c7f458278d9a0137f965605e02162ca32bd30a80ff611d5be461c57e61df6f913e360be6324661fc2be302a1ee885af4ce69c37fa37858038ae26bda1e5d743acc3acaa5d1ab5e7439416546a965759366bbe67b2aeaaf2508715b383c20e845d1985c342c4618486d51b9fa00a4ed92e4fa26fb329d76e47fcb2bf3ed0310edef6a3d0d03593eca621aab40007aaf06b093eebfe47b734900e80a8d0a789182860e3f790bae70277ae435cb3f6ca1399143849eede822e9d5bdd854d6b9ba78f4fdcb238bdee40a14ee092ef4a00b1c0f37ec8288b8414238218d8e10198a3bbb72aedda5f0b6951121dd884c7ecd2f74133cad483d227571a3d51d0e017fce3b048d5b239c4831017974740c13115edfc6a35229c4f4667a4496adf6ccbee2ad73affeb0904859da0cdb942b761b791d07e71f699966b7ff36e754fd02dd96ccc0ee98f5ecaef1c4dbe5ff7102d1cc48e95970c614532c7912f620de6d98ea93b3ef2b9f71915a0e8fc52cd89ea475670e50b97293ae292a79da249de30991d22d6fdaa9597ff2c4d933cacd0713d2cf329ed104de12d41b0f37e6fe5cac2cdd1c7317e4a55ef07e86e91683a80ece2986de51b17e978bde6d2335dfb35fc04bd59faf958c8acbc761edfae01071bdb93d337b2a1f11f47b0bdef9d876ec8f6107a877695c17f381ca94f16e1307a0693fd3fed758931467562372134ca04adfca3ca122e6bb56694723b306be502b33b0af59c0f9eac83777fdc2460489b28e09fe071f2b8e1d230f776380ec05b1931121de47265d0dea5040ba796c3980dd6c4876a40a752623c2b711f5761f75b4ee2628ab0435ddc37e8bbbd0c5c7d546194ae3e3e9a5b2e37370f8cff04b02836a0b09ef4e440507f99ee574fac05c44c0b25a7de46ca81b8a332765aaf562e060a68cc67557f1e779017ad173b8eb2b02a57edd88e073caff9402bb7f5ee4c9aa5c2c6f3490691722dd3d266a1c910f6398cc3a44f3175b712751935b13b9895619972e4432836531abb423288be40a6d3da2459db0a075d9f9f9cd56ba01c498b9db31cfba4156baa777269fed1baa8ecc08e6b4547497808cbf0f10e4323c786b606b7366616f23898f51324578ba3f4795a8ac9641968aec63f19503a932a1da09803ad875327d9ee4f4ef5d319de59c9a18c46cc4f4b2bc81e2f89fa2e393fa09fcf6a683b9566d0852e341150d03feb163e1aaee58d5112488118d72a3c2cab90bd3766c932c3a16e4532ad58189503f891ba08722de6e40e3a5c7ae0ab2fe1305697780f1b1c2a53082d9321fc129771486655b616416527e9bc4589b1745adab69f6376a88a12421f46cc187484914eb46dbddee826e171329ebe3697a1b00ff75d7c5511eeea4d4295efad6084911acf59723a847790369ea6978bdcfbf6d406ffd950bcd56fc9a10b5292bbefc642b379704da714089205ca52b8e62387b5bcad7445a7ed408ab0e8a2ab8745a1279a7ebca7744a620aa2120e896f6819de27a90bb7879b3196302ad49a497666ee44ebd51fe59c0fd77dfaac5848f02ba6072869e92c78fe88bddd2ae01ac195b73add675ffc5879c2519eadbd145c2678d68d61d0ce64f9b379b7505822030e5ac2256aadb96c16492a9a72892d37e4c92f7d668d33d14bab527711974fcd991cb54356e858363781a7416d59d5cfaf1693b58e75270fccbefb6e5114027aa2ecf027cc1770f0c8c91bbfddd3b56bb846bdb66fa1bda59ff3e056766e986e935395a49ea2a0bbcd4192520a0be26d9a5790f1c6aa792512fbdbfc2beda30b6ad7d2df37f5494b71d73bca971a6b209f0433f7f839201bbcff05f85dd529a8f3e73a71ea4d20ae41bcd2cdfa8d91b13ad7db542ea63b779271209e81b0685016658283660f0ec0c8e76ccf9e89b131374ecdd446935ec95ad53e01657b2fce5ba31d5275bc919ce1bbc1c2bfe1a3a4738a2df8b886016decfc1fd1306a1bcc19453a8a36e96421bf1991f0b402cb34649215ebf2c3fd79a50729bf02333626067e5e93444c40706ebf94898c2071b4776f3dde07e11cdbfe36c94779fa4e3c8d5e574a9bf8e4975c6f5133a030e28da546306c6f69e7dd24f215d2b0a117d6c361a021435fc55056cdc6dcebf9ec39899fbd41799dc12c1128120e087c2876488b20e808b6599101d4443f2e9050170a33effff8f266390a29e03f7ae5fcac9966915fcd19e09c4570e0923237764339f1bb30e4c70ce8d9d9593bffb6f19a5ccbd965afde13d45927855ff611b0d2292fcfebb726accb4afe4b21970df3f5c2d608dbb66bbd72a9efc79d21003dda0b99a00abb1e67f79f3fe551081430e2184243a5eef79a9d4ccfb538bf4f54e545e1520fc6fa01431c2d97008f656fb3dc63388571b1301b7e6638c02fafe959c0c11ce3dc8f282d8415769584b32266f6c3ad5dffc989dd98d2bf03992e1ffba240f7f321c5a6448700da0e5391bc7e5c597fb720a422a5721f2735fe0ec8ca2e7024a27f203fb75f0bc4b19bf6cd2996dfacca4461d7fc6594c243279de1acf610e2f4df8221dea15664147df9eecb75ca3fdf8a27e127cf12211e93b44091b980af5a1e7280da9a1b3f7096df036711cdb2a4d0330a8ed34111640a109b34d22d612ba704e6360735eb413e413e1e02236cd541a102ca590b69d497c2365df5646df366f5fa5d384edc427a9d35adc7268010cb4d348cd6ae42528af339ab96a79510fbd229969cfa1a6bb70392fb489314e72a7d233e208968359f5f3f26f576e2e3ae6b7d804d73f93c44dc164683c92b9d05b7f7d74fce531d2d0d1be27c0cc097f4bd674d46f35216fa0f5c7316f5bc16f2da512c3336aedbea1d9f5024e67d33802696a816f0325313d3033efb9b4d74a10cdbd1743ed1ee1d9ac8b80bdc3b91f7fd4322432559bf6db1202fdcf64328278ad3c386738f5060ea80e047c964c18edbed9fdb4c482ee7c379a28d20b55b8e7cc694a962140d7405197074dffa9ec01e4d3c1ee5cb16490b62c18aab85fff3146d3ba6f346360981bf42443d636b6f8fbe257acba9e3bf38366051896ad713a322101032edb83ef80fadb4a65d89356c9b3bcdd59b37316dc0ef75d3f93140aeeb61ef1c6a8a51f08972904172babe61634748cff2391be4125ea1032e8704f84e2e8dfb6acf36acdb6cea7e66e55e30fb84cb2afed85bfaf9f4026f580563cb634238d7f996b92929d080fc44cc34ca31ab4286bad5cfac02543238099ab5942ed58bf2c40f553bca133de98886d7d2f028654e6c70ddc7083fed96d8bff311d9c9cc74642c68a7f93ec465bb3f8134e1898aa768964aad1639589612579f6e3d242721e34a088e912ac920d8cbaacc9a27e344a082639da2cf5a816becd71b36c268ff9dd43185974f0352b56c99fb607011751ab62cf67ba2a700ce4159aecbb244782cd557e0a5789c30728e9e16f41c6cdbdfba0d8ef724b3939ffda8adcfc36146dfb4f9886dad45c6cb0d120e0abaa093ead052c3672e4b34dc3813519729e642a069f26f31ce59989ea606a4b423db73dfa9344949586d6da2d1afb54126d2cc30eae2d8282e1caecf75ea23b969c8923e7c806efd4dec12bed0f76db2b16a83eab37d70397c6ce1c76441ea7312e6809bc69d51267a07a2489e62e04c8018549d2a05c3c47640606a2e31cd28571a9addf45ecd79250cf29f07b19e0ba3884d494565d07de929579dcaa16d45163ca79dbd4e889ee6e2fd6d4a3724692413a8d11f32c7a0d189bbce15f6e62c791ab15a1a34eea67ccfaad7cda44c189bf815ed2a0de719e85aea9c4c90b6a15eaa17129e86d0a2f93671161302a8ccea9da6ebe5f8312097707b3e283768d953b756677b8c5791f17170ad912001505149936bc5415462a134ad6a3cd291ebb049ff70d3a66ba130e814aa7b3ab0b287cd7b34acc63000f53d239b6b286c9717878795b724c0114c2a87961475caeccba26cdb9c8f802c2eb242f67f56c918866c0d7010e9cb6625626a962c251055be92e3914d4a79bb569a318a904e47c01096672ec9e6ec6440784c5e0295543aae848860dc8c2ff1ea65db0da6aa6c19ae02c9c7ad88fd12e7d24ee9e975fba6e041fa3f021eab6c0df465ff0d5ebd72ea219d3413341b03482984e5b4318e344bec36eef3ff17547ac0e936624c33e3d1c28d88e55fd33f5937a29db460688599df8461d8b49a15119ca038b79e24f3c97df26f97d998fc250419aee8ff7a34347f31fd4a11775a7edb8d0100c25211ba038cac241b90d0d70d4c7112d55be293365a7ba8a38b6d569f73f80a8c94a5087dd2a7efb794f6c15859689a1bcd279a6c1369a9de97f98457f0e58f4a58f386aefad12b57c22e8160d88e995693793bb4f527fce0c9f485173e9e2ad6d6d4d1b54e3caa0ddec8e0d8c68136bfbadbda75e1b837243bf11be3a7f2fc516b1b776b57cb5856af409dd18024e671e98a3b79669496b143e0b380cd2f1f832bba8fbff4b3218252f5f71c36cb2e05245812b0082847e80a5af65f2d1bcc84d17707f701392a352742618879e4bfd4681f19e82cb86a88f6d4516ec732da9f6fbd6e13159767bd2c6627a4c0c38714757aab89aec811140dbaf0cf77ed38b0f2d5c25c80e87dc15a27f065766c26df687caab6bf799a4f4e4d418cbcbc2e7873291aac247d3aa7461c714bf8462b6d8630de26943067227f1afbc5b75c7c0683e31fe8082ec69598f707efd2f6965b369488f85d8aa54da1e9e49abec5865fd87c44ea5c4051ec2d7df696bf4b2e2720f7f7cb6c3b9dbe4ac863cb3505a4a6f3d50d6789a8da763729807b020efe84d40dfdc38a72739bf3cbd44b8043f7ec75863bc0fbbfc8ada8886a22fd2dfbdb6109ac961e4112214f90870bd4b0f4157d5c6f34fc79491beb1ca9b37529df709411fcfbb9f0178d5ab180a6a4370c199f92a20d4c193338db758441edddad16b5a4b22de5bbb724e9daf7bef8b36bffdd5d6943ba7bb06e8b5801386593d9d71a5c74543d05efa814617e49fbbb5aa1e485da91c5584d078fc6ef318485a025b28182915db50f4f83a1f59bebdacd83e0572b23daf72f575b20390cd5b7c3ce32387201db8f68110d7bdd3555a2577ca5048e9312b1fe301f5bf3a62805ac12fba02355d12","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"a5871d4648e2db2899a9454fbe10fd70"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
