
<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <link rel="icon" href="melete-logo.png" type="image/png">
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #72431a;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #72431a;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #997f5b;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">

                    <img src="melete-logo.png" alt="Melete" style="display:block; margin:0 auto 30px; max-width:150px;">

                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Melete Energy</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="template_toggle_show"
                                title="template_toggle_show"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = 
            ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
        ;
            const templateError = "template_error",
                templateToggleAltShow = "template_toggle_show",
                templateToggleAltHide = "template_toggle_hide",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"cf1df1a081837a0b9c4b27ad55a595f3f9c0464a659e85358027b5f8934bca19d5ba2cc38720b3a27511a96553cff715c08ff748c8cdbfebd04e9443523e747c76c47e3907828907548263673e2244eddfc85d001228e9ad7f2940714cb18b34bf43de73c7793ed6f094b8bada4b6d5577c80f41a2d28d7b53fd371a4f0ab26b0963bdee32d03005f0d5aabb9540d17a95241b9f2435257485cecf7bcdc9b6428557f6f0831d186fb5b45abe386b00cbfb7143712d80e96d6811140079e1d61943c99a132499f7a5969e58823d2eebccf6ec8f76a7b68149d2aabfdb9058b3d6317546357ac4e0cc281b2ba632577e715674fdafff315056f6d9fa86423d616bcb4a3f61da9afc409554ab8dff7d8f4bc3d4766fcbb35dbe74fc12b39ed637923e90c4487eebdf2f0ca43f10966bbee147c66770954ad500ffb4033f36cec190b902535d1f4099cf060d7148e951244e9b12cc9d733732d5a866834654c9492281b977492a49bdad7d3a405b9f15cffde29ed25e0889dc2d9deda9a22dd3ad8a6b7d15ea506d921086ba4b24e69e8630b604125453323f802ad1dbe5207dcfe89e4a60ed8a9bb44a64bc7798694e09c5ac5d2fdc8aeb73b21dea2d364876dddbe18271321806f75f9276eeb462ffb70c29ab4a4080c91965d48d2e9063ae465f824baeae62e8d41e58f82e9f7602c808bdec3ec50cf98b569ab83e64f26a683f106dd0a192fb6fc9aaa70098cb46edfe690a0a7312aa088763037c87c82072bf26354ecddbc0f9feaf53d47d2713d864c0b03bf39fa01dfd48044228cbfbe5cc846fcf70c72a06682701f09f47ba9a3c0e7c7aaf2306b5b85fbc0930b69b17dff1c882a4044373580a35857155c0671bc9084ad3171a1e679fe882ee0184f73c9f59230f8d87436d95c0b6838520c079cc6036222de9f8ce2c6cc43e1e1ea3bd3163ce039316f9578962b03dfd8948f7e419da54f5ca642a2364060ea4a35b296ac1232ccb973225049d6385111fef3823724c2af918812800226a1bab12e9db65b4783671171d342c37798b2fc9dccad8fc4a0dbab75049eaa1d683cee25f01133054a1c357bdf881ea3da3789a1b2c2edfb7ffa89381b56573e1d269b0d06356557a85e150f1a66c7f2a4d72193e810ff735a9e6b7f64b9bef378704b3bada0fb58762369c25f66b8fecfd012c5a626d62dd62ee58076274bf54934dc7e00ec4929a39a327038ab626403f2b26e27895aaadb3d095a704eaabcc9706d11da45bc1e0884280773beab7371521c2ed8d7fce640f3a4cdf6482a60763455981684b44c34be8b240009acc7631b874cff673a505b960fb6538c660fa979b9210459369d5a6b5fcc15f907df285f8cc387e69c51e710b23eefd66e4628a33ac37959c50c7954c4a5046c66f18f31942dd524148db0d408e6d2d853d2e4a169cadcfa43a2172d9cb177c2efd3cf7816e7192f39197962af1d6dee35fd356dfc14a2001511bf9eb02ba23554f38392162a6706c70eb74d38d8e87ae9978c1273edfc0ed164ceb8c54f9c9cfc97a4f2f991f144dc80f89e36fdce44b5a32cd5ed58332217a1edfbec30e7b21842d92f32a5f083dbfa6491afe3d96cfa9f897750b9c335e60a7a56dd8e71e224d7f6a35ac597e26ade9a0e942cf2c71aa642322a35c6986d2d19de79bd916adc74d578c05a4d987e25d8f320daefdf182e89474a313e23a8175f574533777b8f3ff0b6120e397e2ebd34fbea62ab48e3480be22077fbe4b84a08ca245d94c33f60c7c5c1ab0a8bad4f828117fefbc2ddef0a4e8e15b2fcf4e2a0a6cb2a1688426702980e958ebf70462c49401782b6a72c4eb7b7b99e5d80bd2a37c5933a33c7850532c5fe4e41ff535c66c65b1e4865dbf3add4828b196aa265a9f27afdd772d1cd939d91f1e9cc5eb1432de8d54b09936bac6dd96260441328210cda2f71059a33204dbae3fa02e3f545773645e487f9e89524b5bcf1726340e5bcf7e7aa536eec349064916858c1519106ac8ac9d59b9205e45cb8c6600c2b5660a363a4dc342a2c0bccdee0d9aec317cf76fc677005933cac2079832ea61cac370a06f299719bb8154d4610c262d95ff47d6d38d341711910635a93c70dcce3d390c72c154075a80126b03c99e482fa4bc4c826d435f62227de67d2d4505cf4a703e8062ad875e69b7f50c25d62699ad52f4a1304f739559d04937a5ed02ba7268215cc233737ba9bd41d910c74e235db63487645fd6fe11e295900daa90bec64ec5ad8f2fc76a8a6d33b5c47f6b8127cdd35e126b998857ece3cc2bd8af7218cc0f674fd04583ffdc325af2856830a7610e370c5e4ec758f6baf38a2b50852e106c024662e3bd251e10ffcc56d2ede55f1f8e2814c082c3a7a3783e5902cfd273b470cc9ff1351568a996431fc2ce7b0972211ad9dfddde5b004384480f453b64df6a92f59f59b5335f7173e6c507a6fe00511c8aa24426f57ecd938d31b0e4829db1f5f8a12b68a7072037fd4d61867490412c6ee8353d4c7605cb6bbd7fd6246ceb6e31a65e0edac73962a0b9285fad622a8195eae41dc684453671d97911aabbb8160e1f2ebd089222d72b2e39133f5fec8cd6a92baeba565761e46004a3f93db4b71022461888603d4c9c78fc338b7303b1a0263e4a39788bf47235d209feb5160121cfcf7bd59702e3ff292ec2b31bd012d5b490daa8a8ac9b84f90205ab2860cfe6f08407fc3e355abbd7a616f6536a0fa94ddbd43afd3ab9576c20c22b46dccb304dd08d5d2c706e25b649d1b7f96bb058d7834ce8e00fb6f11a801b290ca9217ec3998f0730e8c7997fe14315190ef6c23e34191e0b50e6a7c925beaa2fb3d18e6b226fe9f20b3aee87e36588e862d5523badbb77d69f9d64747326daa44765ff84bdefad53c4d12839abb92850ef238053427d23410b58c4a2f81e36a27846ed1ddd3a9ceed4170b2a8db31bbd4fa7006faa3ee4bd3842884afa28c1be98d564f3a041a52d3f9d7156d0de4675bb7e26ebafd8a23e7ebebf167fd98bf095f82b50ee28434ef082252ba8e29ae9bdf7782a9270010fe1fa7c7b6f574c39349877068cee723d93c6df41fc942ab28af8061ca25eb409e10b905aac26f3f68a3c2dd94d89ce80ae1b9832d4dd32ef4eda17c5171eb21bd33774882fd4fb921bbf4d7a07fdecf6f0b13715411d390a7042374fa8065bc7b97ceb042b2401b543b58d5dd1b8e5125ddea3ffeecd0eaf2dbda48b1f6e6e35d21c732aae9c7f513ea6fdfddc3c331f8a4d4f4916327a0368bc6cf49143727de7f2d881c4866ef16fa304e7cb015a1371936ec13de223cb4c5e3678e35e870ea36f320b115980a163b4e44560f86309e5f46772c7bfd800581d09a5597da5075f1d70d7ae53d8d4dd18270834efb29b9139ab686f5ee64376360b76b7c914e92b61f00a3d7ebb37c58969646f4c8a455238b92b358d9768792f2ac59a2a28db5786fac0a4dc337d4447dd34b09c35b1611ac560a2db43008b7d42fd7af3d428adeee11a31917e8e3f2b3ab02cd68aebae799ffbf5f9b36a31c677941a2c21809e99394730ba22c1ab0bdeb2423b8d35d32d4ae457b52ed4165d9ecb02d1c5683648977bd3987a031b06b59e9e1d0c6faaac64796a93f40be4a8a7f8dace679c16feea9919f6ce5445fbf9b8b472c723f887dc379fa9b27f19660f482ab223adc5e34835f8d8e4e172949bb3e13cf8273983b6be22b446427d84b8c6e4c9c85382a1f4bb2c90cd5d93dc8ba4775491644c7f736e165ccbc518ed1da95e80b63720d5721c3a7410c62b7df49a1d7869b7b6b1d1773b5f43abfd54b7d2aca2380ba88a12cc0e28e2db37d8173dbb236161cb6a7cca301504167c863f4be4cdf2725f7a5581531d90e65e5cc544611b89b9702caa557599c22a87a94cbb474091da1eb08a7bad9c864990997faa9bc55639a07448fdf839d7cd12f646c99c5b0ed19f1f5d0ad6a8ec709d99ca7f2163e2df3312e821d8dde6487220a251d2d4ea473693f8924be864db437a67d2085096392b31648ae06543fd1d6e59ab4225599c2dfcc78b9b1414fe56e35518238eff7af705d5e430fcf5cd71fc4733ea4cee6d5d073c21beac6e2703768bb2d9cfafd4638b54891fba755cc0b8e8d6ea96349dfdc4fd46778e85eaae394a532780bab14d3e0461d717ac18fe9b3247e198016cac685aa44b83ceeb5cfa5384c5e738788e6e9cc6e56d95100f0f37f6c581e7f5e3e282f173503013e07b8e9eaa7eb66563e9ba42753ba820f7252da080f2624837d4b50bf8876d68445317ab6f37d0dd9aef40a53d8cd50840fa41b292b816960fda7d1b9fa5d5f74c67844dda2c82f16f9f473d30aae2fc26282883254accb874a5a4d791a50bc906b8ed20856223cb2029d9271dab4c837116492bacfdec3d5dbb44f47d25bc7d39c8e41d24035bd57d9f03248214ee0a2f0f2a90557d355522d0ee6a71283449cd7e6534433ddafe9dc036cca9823136f75d7929253d855d5b2cc64f8d3e444c55f7c413dc53fd47b0af5bb4c29f0cdfd6b34402f53eb56f6c04813b6657c3da79ded8eac40c8e559544b8179870798c75b8617038227ad34d07b5547bb484642bbf2f2de0101740bf147b15b25d77942bb9afbdf38b81c065733056d70069765a786151b1336ccf32021548f5d47cc7ac37b3763a69f82c885da57dc7a6f1e1b881346879006877c72da1bbb2e29543fd62ab05ed0cc72ac9ca0fda1dabaa014fe5b9380659453658ce2f9fd8b1d83a434a4fb5d38aff53124a1eead673debc691f3c9bd4be21cba6c9aa33c692abea5c432ad4bde62dec1a7b5f58e605c111a62ca90ae946563810b085ecb9ff1afe439423a381c983c212c1c5f2befd5c9535b0e19f1474dfe32ec5d4e23915e7e7b98aa4c568403f082b1cb801ae449dce1ce519670f66b4d8a0ffba7de4d63194c432fa5c40ebc56d04ab21eccfe4cb582bac7a528f57604d05d704c7e1c4837fa5b07bf27a8b07ad10f2adb903a2d2d92d6c2130059176eb4b77dd6b394cbe1f52e293b23554d4e0e97e85c84749859b839da28e6775025163323f574a41b8e4deebdfacb95fe274ff9d95058618cd62cb0f99796ed5ca1c291325fdbe7d56a73d952cacb227b81bb57c3627d00d2dc0ab07148a0b906dda49d6b2ebe7d03121159e36eb8f0d379f1c847e15ca46c2a9925a4c2c9cc7653c8cc7de6b4600513feadfbc4725d719b8555cb98156109551bf72a2bb2c91b469ec3a143a347260866d44082c258aec9fc44d578cf18718e086f9cb32d9625c9ec986ffc1af77ce5d8304e1855149bff1377e428fdf613439701fad68cf693b0e7a0bfb28391d9a346e18d21538f6c92df77163fc2d3018a97a8839a78f818911f20967dcd3e5a8e094bf47f8000f4a12c13eb0e7a7a0bb4c80d1dde291273693ea1090ad8fafa084cccf541f4aac2b07310963dc9ba4c1b9239d9d28e5e34206200f34c6772bf3aea613f2a78192789037dd48d1036aa81730a0c53ed4c8227bcbd861bccdf73cbb9a69e3cc9c1b543d767541e6b3378feebf28857e27ba643306b65af3236533584435a340ae1eeb77856ba704c2cdf1aac556ca1fa719dab46f146310cc5ce72f41c09a196fe18d163a66ba8c7c2b6377b3cc697618b2dba249283f7131dfa27e1a474ed0e0e97a65f8f8c3eaa14a2d38f6a628404dd80db964e1d056c94eaff833c665c17f333e3a6491c2fef314130a60bea08dad2b62fc361b9174f143c52d6af2de06895515ee49840fef721fcfe811476f7927484c48efe204e72e05d33999069db141abb8140963b288fd512d671408598092cf0cc7a15090671949a8273ed68082b8105c61ab3ad8ec3a962fa03e2c33647742016566cb7c892a52a8d82c7356edc2300652e98d45666bfcbd7b26ccfa7027c5c0020f823892cc9b41569e08e0365087acd87547551f4b289308af0d09ec48a321781a9d412d8827e1097d8cccb1c6ec9f833d1b9477d627f17cc5b3c880a902b23ce1184683760b698a06b64cac8980cb4b806cffde9523e87c025975be5e77479036812211e79effc3f694aa96e68a253c6dad49b81df32610538ad9b798805ab713a4e16b355226418bb912c9e555f7109ba6715afae0b2151490d77f00236df378cf3d107e3a968ee62e458a1d3ddd239ea18b97b5c664991c8794829184f56029726468c2f526e0e07c486690c186293137d1468480a6429e23b02fef8ceae707bf007de6d6b4f74bc3e65fe2e7205342b5d0ddc8a8ba2a650c90cabd192fabbc5c93698e5a21d3c862267aa9cba215f26ee402fcfeb5c69b8b8d715eb5dde7c23fa016988ee184fc52e392f729e64047a46930f359ecbdf95a3b95639ba750f4c9840d23b66ee7408e026ca1fbd0460c34552116c66a6be93f07c8857c9e09c12a961ea3afda3c181505e859b1a404a8295f3f742b91bc930145c3a11a660c5cd142a6503f6c75a8d1acce6d3c2bbc22d9dc12a62782d587f76ef2e5a856f1fb3cb075d4abbcb25d5d8cd23b8ded88235ada3c054a82bd8c1c2689d7e55d24e5c7a06d56015668ee15f3c77163e43756bd118fb83a3f68e2b4f9be0842415525b39c1bd36e8bcf07a06c9731e17fa623680232251d86ab415220fb69c9019d429f7f7aed93504cb474fb4901d2a42d3e374e22ad4260ec46cbadc3bfdf49b6e5839118e79f1e9714f695e7fdd4ef6ec5a8a85d15cec465873fddfc723968b2e6cf864dc92686be6a70aaa708c0100e614c4498224a0f001299f7312c50e99e336c23e2bd920df9ea43fe1237556a96aba3167c5cb0402e461f9d065d04bd28ec7038166a31e825caf2ececb7405ed07817e30cd15cd5ab3d0248a83d4a2e3b13122ec55da52105d4a6a4309f1a3a799314c969798117c5bb280fcc5616d263c757a38ea4f0eca10cc6388bdbc1bb9418b9f8fadda0da7dcaa365b9375fa61db339ec06c84650a977e414d7cfc5b49f3b1073495455d71927138d13f8f43f39701411be4b4c0e688f103b5b83daca59f2f7d392ed8c1372e3d1952f9412f2576f36f6ee07e8695537e9fa7757e3c2f4e2258bb3e86c9d2df870a825d15a345ef2792ce903b8cdc35242dcbb2b2657f7cbe9a9148ce18e7d328037b9ba5ff745c76f91449784844805e5fedff8f7129efabaa6dd8317fd696e48f250b5a58cce6d6fd6f59044dc357a7b0e918969b3137ac6a7953a2a277b18fef32b857e0527360ee8e20a680d7322ad2257c56da1c116e0db2bf87ddb912835df250e3f184bce8a5e16d9c8ea28a0afb98b1255921830127a90d809992ab1d83d43e6100a60e681d68186af27a2cd72199c1dbd998ecd442d076e95afba94c2c75fa0b593e1199ad461ae7bb25ca233611432b90f5a2f03c65e4a1d1258cccbaad67bea267a48cbb806db5ec494aa31bea865eb52f20336923eff3a6514a08c07d8318532081100b465e14cf890d40458991dc9661ec80d7f29f9ae6e47663fd17c016b0329ea400e1f49b4b38e23ca69db254e9937a5c208ab8f67fcab92bb8707af6e21c9063f438ccf531a8917e7b941a0b6d21f33e33759bc13d0c56bd6eed405f679cbb89d69e8957ae8f9e67abc02b40857efbe756ea734b63b9822bf8b74d2998df40e6a40d2e8f26112e1ffbb268eab593091dbaf78ca64589b2f49ffd1cf029b533793d80c490b0402b95a876cefce6ba407b7ae2fcd37ff885e5b64290bcf87e618fa6a8a795d30d8c7031bef71984b16bd1e52d21a8f3939cc695c1f629abcf565041a165a491524393cd49bf9d21a982baae1a9b976afb6115c5a2e51a9f07b304f0c7378361c9bb21c22033825a677b0cd4918af4d0050423755a3316115d46e2791deab0cd77a7523e2da60a2ff0b41ca0fc4a926cc8a366313f33396137af022abcd7b1405dc3e624f4d2eb715a046f4255a78368b4078fe581c4b348641bfdf5e9db3775b5203985c726032a6ea20cd6802ebe9e8e5d606ba7a7f7317c2fd6d47d4cc06b5041aaccc9cbbf59c20968b25bb4d0f40a8610c6f1c961feb5250d7718dce99b511fbe0f0086ef042263d8a8a7882dd3226061f1b02c79aa5e880a93137066b1625b15ca7236ff4267d65255a207c36c747ad0f92ed59e8cec9dd923b20855fee616472a21408887a282a6f49eff10e1437118c254120ad02e085f2a74e70f89c5c0a467a857fd84482c61a71523314203c6930683e9086bd706299281e7453d34822af382176171097b313a0c5ba294a9a5b257f094f15c258a22bce90320255d83b101bee334e562febd65c4f68d320ff566b8854ea984543c23f0ba1be7fd6351fd7062766193f3f55988a8e4f4a8c706737ba87213b3adb641195f92f17377a68dab6d0dc691e03de772a4f81443272347920d127b0a7054ba3174eb42cee4049ead2681349b0cae4328d50d46b5de53969001ffb379b571b4d4a91c7d035c660f5939d45aa9dc0605d016162f01a66b62266a27ab52c3c1d1eb2e76d5249a1a25879a7bd1cf6ea37a228b691218876a61273ebec68de9cb45ea6c26c490315bd72ba813853a6eb1bbe7816032ba967223217a0d46227cfe933f56f68786bf6acbec19352f9b3af35fde88628d910a6f28d47991d1b62504e8bebe821e45250ab31d844dfcad7a89521b22240c0f7021bd0ccad82efe44ab97efb58fb002503238adf21783a7d2ef610ca58e1926787f36c54a345fc849f429c129c8fb19ee7c5da1bca6bde22113931008709a275276eb8c5debd5b46f35e1bd19557c3d815bf41f32daa77ce1264d1b1c72e53d39aa90843ed9b168cd5766b41b68a7a641dfefcf7569d60c18aa366ab4efd20f75b4b7163b81359f93b146c0344f62404b8ec8e9f52cbec303186ae82e713eebed18345de2954f43b4a14510347adc3849006d57df264f128bc958cc7facfa3a89e1b52b62c5a4ad420eaa683a6924bcc6c2e54bc9ab8dac7e5904762263bd991f0ba5882e1f7d9f3b9c936f70baacbfeae0b39b6cce4dc70c7475f01c95d89d1d64e721ed4125c24a434fe65b109848b48f1cb3c9d2aef390815d8f0db96e4278f6d5ce7d825f5828342850e48bc982622c5da0dd3e899f3d84a2fa1ade771923b561ca1176926f66c50259c24f50eaed627f8ca068492ffc763329bbc72313c038bf2fb33227be32b04d1f2e017737ef8e93567f2d6edcec211501acbc2c5443876f4394d6fa0625459ff1f4b6158e533870167d8ea704898c4da3f6352d4271ef9eba8f1a51853301da69eef76dccf43a3619bfa2de7f3f72a436c30ca3b20187b228eb508abff4ec4196bd76c1f33727b9ca359030b11091edf694073fa7e2d54bf8f37b9b9c3993c7c89a76dd146a05187e51fa6bdf1fb7c82b5d8400358652d66461b093172d39bfda802861bb160bfe29bfab842a23089f139ad9e13bda57781cb6e87a825a9358a3e86503bdf481fa1a836c56400432efcca3c3e7cd7de502c21205c3847676662382ee4f55710b39675af84aacd20064230f3f66affb2c7480b7124e1fa3b143f0498aa1684332c53ec52fbe72e9a641afc6a8b7316a6300746fcb160f782464f7075c6dbfcaf915acce51df0be21c90dfdb65941311c4aa4af612d7fe029052f39f0b5f9b85401cba40c5aecee96e3e4cf5aa8580a8e1126aedaa57d1d03405a34172ddf92d79f41ae5473016762600d2db39f575eebae0b9bd1cab703b3a7fd85d17cf322e2f8831199e9a574a9c2e84eaa338fbe139ea0983a5428b145e2068dee107f1d7a91d7daaf38a12e6226a79788a1d85cd4045765a159f2de0d72efa7f543157b6101f429afb18591a81366b2148a0b6c7c2a071895d91e5773af8889863dddffabdaad84b2c22d4d14f96886fb012a75ef18ce6c65882e5e6e885627bef8f6607d526eca9df82a6c69b64ca812ecf5b914f7b4b4119f8ab7cdad87daf1740f12aacddc444f5754e670bee00cb7c04043e73ecb772070cfe212da0d5820120b34160693d6b69e958562d7c007d75cb4014300b8dd4c74a167691f910eb57cdab03cd0b1cd10556ce64eff3168ec1dadd5f794e9093db076bf6b7c8b5b591adf360ddaec300c8bb4d89a12ca34304ec35b41905bdbc2abaeb20b3c7b14c36412deef686911e5c4a4f71ec60e0ff2c4117c3ab0a306737adf7ccc952f14b9a66e6c4b94c517f00f5deac15a689a29a4f104ce4d40d466741e9231ab635b2b27715262ae7b1aa1ad4d49fef1e65565673b8a456ea7c2a01e86a82d3fb1c8746bd39c7e19b6baa14f98d765fdb5498711c353421b6ba176c2085740e96a41f29f3b326c7ce4d7dce84144e16d99532f5f79912d529ce81869381db0d45c7ed0c2f4d1e2ed4383076d065ca56dd64563c9dbbc92ae885ae095353d65735c94fbc3d2de9cabcc0b7c13d480372169e2f71721f6c2150349f191c1664e6d02e483ab4a8c1e98463c1dd702f196573779aa63868406753d3930fdd98e00dd553dc5817fc66190b51e1c868423ac4d1a806497faafa707edd6953629ec9acd7ed00ff4317eb186a934ff928356b7efeac0d97b5f737f34fb342c723ba3b758957181c52a8c594e265369583b4efae13ad30cd66c340d8e6939128d6657f0c541a7579e944bd48c3e3cb1c0221be85dd2daf887f46438b00aa78af1e24b1c2f8e427bf23844fa35bfaa574c3da9699d5068306c2dcd83cd109fbd0bd403a8cdee959a5009aa72270ef6538f631d6879058063f6ba23635c1bd252031e708fbbd4021e9ff9376926af5d5ba1173197515d86a7996f554f03935c4d05d2713ae4737a4506f4442375f110aaca5daa1f3295cf14f44d820204a99763f0fedce09ef80e1d1a41206a9a645dd00aecdf728eac2de779018987c7b3d9c8eefcbff89b6b33859f691fede9dedf96700cb29f136e0348437e8e91b00db63843a3691747443d7292723d6988b7468e4be4a158ebff00827f23dab68c0d86bc725d6a20f9147e159c8ffab56dd8a1048a56042a1064b76a3b83fcb8314a713b202b7446e3730d69d104ddd16be18d8b0eb63e9e7db510bad1466f3587f2edc466519c2ae0db1d72518d47b8220d6d4bd432d4bf16021e3805b367bb457550481be6743eeed6c85f17d69ae6d0b6507d565dc11f96ba8b0a6146bb03c2f489d2dc01a46146ae86b565dc67f63348a901491fa13fc6bd59f90dc31d65d01742de2e8ac733b192ad2ac665e5693fc8044d0b42003ef2cdc60440d8d9579e16557441fe0154829fe90263332789c5cc643e70de6a0514b902f2b4c3dc3c3280daf6535fa39347bbe0539f60b03e8092507c9e91a94f42e2c658e157804fbb3cfa9ecb102aa4a27ee354911bd11497c69141ce22f5c1d21724dcebbdbf71aba00d3e0575b7b04f43f95c40cfcbb217b292f652f9320d8b5ad6ab8b56582e544a2d9a751e09422db23a727cbf59e3cb77b2482b350bf371f3574496a39348ace5b7f8ff26afb2e3c8d35a5eb05e76dc5ba6f504cd1130bd3822456f0993511490cb99ad39877f6ea5a30f061b493e5eadda7e8953cf183125f99964256e0a2e0441c5ce7e2f0c6951519922e9f0954f8ba2b66ae0612f13781401fecc94516e59dd1f89f1d2d37c867d3d11df321cb07749a18c9909c928c7f46a923158125f8891769c899615a73e2afebff1ebac367dbeff2685babd88ee3c876b2033610335733e56df90ade470e41561385184ca20a745dddef0018133f36d6f4142e873c72096988e4a2db3f4c63babce98a1c9b6ddc7fa2a3924adcd5714841d313968445bdccc3fa6a3698c0eae2ea0672c1d8d8f86503de22c5196cab4d405c9104f18dad8d0385a190b3c685d2509c112b3ce9bd456f24325485e291ba5bb592177eec996d18187f6f29e5c3a0f86e6001aa9e17560e9465b62cfb8f5aeb072b779667b15364b9a7399dd7384a307c6d24f87b4491b907dced7cd7433ea4eb31de7b8060dd6e8102c68f3e5d4346de97547ed8f192a6fab9d22726a79b97882560b109d72b0c6cc113ebcf3cca758a8f7daca79927f703279d70d8a2ecc798f36afb3be7c17dece56e9fb5bde705c0be189d07c5e5852e2fb9cf9a00a2dd7f4d3e05e225324f685cab72f935ebef345fc16c0fa0017b4232c6e4476e6e632e097f56fc765625f5254bb38d82c4bf201d9b4b0b4bb37358e7e2ce165b3a0991a1cfe04a2a31b8cbbb9ac43738efe92b03f6b9e44b3981190a65683aa04f4b677dee24a4f6dd0206b4fb1dd8e7c0cacbd5476c31f4174c534ec2d0107fc5f0155604171c4a65fcff662d890767452e49a6c09734b86486faa7c82137b42e9c8c998d5839a02451ee271407d62636434aaa5ed4687d2a1b7970b2f9b03c62525857d5eb62e5fbf7eb1ebfa8d2211fd9ec92535a417e918a851d10e0144c69861326f01962780caf9db7291d3282bb3711d11a864f54cc6c05722dfb2c47c8b92baf8ed3de5e587128449ad4fe8a0fb302d4704f26b944a45e093023d4490ce65668fe7bcf860505d52bf9fcfdd8cac66e534370118accc613da46dea647e895882efc64018ba6113d2b628325f29bd5e1947c98e0fde863a3fb6609f2079246cacb0aa6c28511d0d02343e16f8b368fc19085b4a2c53baae746af7568c7b7b6564b021752895a26b0968b90878d5ee7698f373c154d5d6e5613682ae044d58a6d865cecd029758f83d4d6491c30ea79740f65a48f3000e02ed52c1879f9b501ceddd43f751e95c25469ead80f0f88320fbc54595fe7ef8ade6eb736bdfc2784af7ec9adac24c2c837c29193e79b1fdf0ce0df648b4fea290279c3544f313c458c2c865c5c8342fe896c959088d694b47cf348d96cfa80a02ceb22823ca946de96ea9b854100b35366da7af3c3bcfc443cda2d2486ba250514ba451c32efcdda88e1c01cf1675cd0f196f7a14446ebfdea4bef94da797f7a423784a9ce0841c21d7181cad16e0c8cafe5e4a406cfad026a646616e66f5646cd273e23019b17124bf0db0f8efb204199d997350bebeb8e7ba1a05dae08ebd32ecf222f1049dd5fe2d398527c7e11aa70cbdd11059134c1d0d6e28713128f11363a930fda3cb7c63448df8890fb14edf5df96cc85dca16f038899963dcea7779567b9696dcfc48c6c3a10fddea7a12a201639cb2831354de7254db66583216639233231794a13f05dee0e31a52b813e3f8f33bb1bb59e176dad81996fee10a445ab7a7707f4d929265585ca05e4471cdb33065e2373d8fe6060616f2c9dcdb5c2a99658afd1c8cb0235724b0b9562aaec5007d57d41d45de0a481e4804237daa091c55fd1c1ceaa78a0761c2e7737e6fd1c00586d3c5b1a16367448d2a2c57be5ba868fe0ba1e74f9fa7cd356ae5609e8af75a144c6b4e2e2b95132689d83e40b2c7c7e59839dc44a8084415cb3d5b670e8713840da6b5f889a2b5086352038fc866fd4c429a98288997804d925a5d854b4ace821e46e1cdb38646cf77a1ac907c1d18804862d5aa4653c37e465719fecf9dcf3bfcbd9b55be667d0ab9ca44e92d9a716050f1cae528dc92c8cf8bfb7f4e9c96fb97e6c7cf400efbedd0e0ea6ac09cc393884baabcf3a98580d65451489f8eee444239d6ab5f4438ad8c2c4219ecbd2a8ec236da72ee72f7cb7fce68dffdf31c9c7f6e1ebde0bebd4df1f1c33a6d0fc7594679ee34407edef89ad99f530d9f11aa901d911f2b553a355688d692edc664c1520f6098d557c92bf1bdcdff8d0f75543e81b4a205e9ed226a1d9e0a58239c91e2b2faa0cb3e2f7bbca280b554d2f7e688fc03f102b8cd744011863d17959eac71a9259dfa911420e75a24633f4a31f6e4170b6e7a5c9ae699e1c5730d1f0cb1582ee3191bf7ddd3aadac45e9665aca7660920138c31050a88555faf6028e113792251ea2baef40a5c9d565bb255ced5525275bd25208266fdb981caf6fa06b6bf981e209f35808025e365ab684ca822860369a57755168fe51bbe1be11554061ce229528c60c6363a0d6e676eeef82ec9ff5a5212cb9e0d8973dff8cfe3765389560c1c046bb493a11190885be6be1a8bdac90c8bbb2179aa26bc31ae83839d3283e0b15d20d47162397268ff383cdd2ab3cbb9e77f946a0ac3138d83b291d08b95085f5c68c12b12527b40c04c19df2f07582cf992990c1f8019238b1a876bbbf7fb4f4e569fdba67498404c8aa56496e3bbca48bafb5eddea09c89f6d1bf43b8f52d53effb068747000160e108add144ce26ad79df52874bddaaafcec575e78802f2b10c937d2f00813f224d70808e2b42b35cfbd078d18066c040948501da145973b0a9f01c6bd778345823662a5dbedb5ffe6eefc15373fbd9a43ea0b5cee3683e4712948ad47aa3a3bbdbd6a9184f465ca18063e854b453677c15f2343bb33d85923c9cf50696bc71fd761db6e88fb52b8a9a3959e7d2b28b681ea99cb3065fa5797c28ec82cfb5869c833700afebb74dc68edc39a094acc019f6f91455e12099798f681fbaff8810c4b6e9dcddf37d8ef15cbd607d962e3a80632970affb4706a835f7fde7fcc7ea874b93053916856b13e22ceb15398c348266466064daf0d3f9e4e9dc5194eba3be4c2b46fab0a4b9c674e8ef49a2046e24ab54539a37e415c33daddd0f83db8f4c997644d4907d6d1e4fc54c28384cac1b63ca890ec22ff8676b6aed6b3293865b32c084326b416ea86d59171ee25732eeaba2cf47b6786ebf312501c7a19afac982b676d6651432e9bec41ed1cdc14731b6a51243e16c363a18993b1c125a7eba771517c25c07656dcd13dd49c7fdf3ac01ae97eec4a68bfbbaaaf136442b3172e4e084e5fb7695eb43bf7e76d0ea453f3c8b80f0f243ea95c74646393c9f586f580da3ebfebc1da87ca5e5d03ca7d4ee7078e476f188b765b9577348f97ca85b16779869a899d9a2d8fd05f931c94bbfa1cbe47d560ed3ee4e46b58ac38a816ce8e254915bd4dd289e83f678123a892e58b321763b13793ea94635c469463379313c2f98fe91a0cbb7c659b68eba9667e4b796ec46f3d33d76c300b39653948134a75da0ee657d2ab1d74610c349ca88dd15cc5db8f7f9b00171b3a9d587dccaf9f7288a0cb3051f8a4cce8dcc41815aae21a84307e164a7ef9dee0deed7ec9a9b1af584dfc208daf7ea795dab9f7ce3495ac2ece2a6cf4743043bdfd9cc718e9776cc31cf2b745b65998465eaa3d49679d7ac88a1183749d6ff4e6f9cf694bf9b4bed466578e528dac344dbd273b6b716ce9ab884f4e6212ce91d251267631b3d875bbeef11b81549fd1e1faa88d5f6e6f05716688ccf8f6b48c048866ce516006db39eaab87acb203b4cfe785ff0300be2aebe7597a31923c41fa7e355a334aa8086ca4320c49655aff40a3737f9de30e40647fa81cea19177e704540481cf28ea55546cd29d08f5f3f1ff98eb39e8d22790eb1217abbce9c9330ff9c74f29fc3711d3781bbbdaf068cbc48362f117b30dc94845b94887b02fdfc6e2c71680b84e9a2235a9378026db93a720c66b98c76acf68cb249f432e10c5166a31aa05ee0dac1875103a3a13cf9a0cff24b53911a9345e81d18679e3e9e0e5631eeb876ff37c0d4e0884b9d8673a0e79026fbb4c0dd7e15169a796c0e023a87a835c6c2b2cd9cd17bda926cb9400cf7e9d23524f3efe91c96be67f04f90ab77caeeeb56df0f4330fcf65a45d3a4cde4251ec9b6495716e59b2e2ee5afabaa41aa0014ded654038618797fbacb2613048dc9caa7882d029ab92553c4760695b80f83558ccc394128edf041dac918412788772cb4c07acd0e163a1ca2f59a0112eadeae69e88c1568ef9852029a74e60a9664ab3a38714db010c826e1856c738fcb40aee76116e9c04f199da30c1f0e32a40b9a292092e684701337c701b9668e609b29b4963ca6d2cd35abe03ae5ca3de0252590995e9755394840e2b51fb66e8f4ee053bb645a32298312177704297defabd21f960fe9f0fed58c0c8961adf3ee5f1483de0ed9cb012ffde6c6058a009dd77c10c5cc698829fe85a2ba02dadce2055cb972b810dfc7d2ffca99575ebe4396d963228196abe63b5227930dbe251764e222a33b6b55bfda990f518758437bff4dbe6186165eb89eff196a96b093847ffd8bd5fbb267ddbca2db00970ba37456ae8568a17feeb817ccde02a0676fd8395cedae1fd503e810d13d313ab7fc651563ae4ad50e41fa63381889a6bb114975d0cbfb3ab2af179bdb485914ef71a65c4343fb7d37d83839d21c6c315d4382b387ae83d13f535bb8d2f8737aab6fa63c223f1223b39248195969109a5f372f4f650601254a3ffc0ed4d6521e2aa67db0d2468280df38f8367fc85d7e467de3bf8d998082d370869d7c321fb0670af0edbe3d95a23f69a2e689636342ef14c5894697af40c30727d1051a72c6b274366959960d8a1839557639f28813919aefd0adefba692d0d31a3592a5b6b4ee6c59ed58e0dd00fe69f8e14bdde319257e7e532b4b8910d86b72ddd628222dadacf008e93f93c0c865e84714eab82a944ef70dfaec96bd43d0ad11ce92f0488db0c98910b0794e8f97973e38ac8ebca36c5e45b851c1e5deb2d1c08c343f2142c3292b959b8e3e886a04ca6e0591a36bc92c0aa1e8d7f973340722c227d51ea285c1167b72ec700dbafd306abb635cc8dc7197c6dcec90b2ee86f5b1c7e61cc2157380204b953227a23955a14f1c748bfb4062f0f7c6c8a394f7ab10d1e21bbe1682fff2a490b87f69438ee36640962a64564114fffac9931317a6f41c49ebbfac22040a778e9557825e5f3cfa428e591b09755a8f94c9dd5a4f236dbdefd3099ffa0e942ca20fa333ad45831d82be2af6b267f00d47fc5ec0eef0b61a144be69db5c94029c908c10fc88e70e2a9cade219b1e19c4a8599cfb24ae2bca40c1c21b584172451bc8cda31d9c67615b832c8de7e422638223a062a411fe977561a2df92bc3a0fc99ccc6804fc2cebd4318412e70cd8f0917b05af06fec9f00f30302611be3dcc10677aa2bf85e93eeeceb04d2edcafb04fbe8f0bd17b49685467e32adfc29ba6ea685d5fb80a9fb83a861e0419c094f213863b0f6362323e3e8c30f0d0c96357476428f820384a2835cd3309743a98f5133a732c3d29cce3753a72daba8dfbdd44d8466d1aac1d777420bc1125fce66e7da7cb67323be3da537a3593205ab27c28f5d5f0cf85c9bfbc3aaa30c9734a0edc433ee1c468def79fe9966429ba0b1c563a5423b833b237063dda7462f57721c894dbe64078c03a307633d051400059fd7f210f8718c1435ab723e349f96817031fac75a2a556de3e3ecd417c2cf592a10e786d2e6ec5d3586ffae59488994ddc3352fdae25194dc4d21d0e4bf26c539cdb9e77a351547ec38c9442ab94246be2ce289669d7950d90ee9c075e4f46173c5cc8cf6a4cf814fcc60d3e6bc32a2ee0111bc21b86430e71f25b480db7c6d693ae1a1e7eff991aecf044b384e28bf1362db9ba9f0f5de871abf7f94570a489189f31ffc964f1e0b8a7a3ea565a9ba6c8faf3e7e5e44b6618e17c6b321c662e1d75aae57b2a5b6284264f9cad4ba0ff106b9699e98fabf28902e511c71a2b54309c1362148097dab8c30927fc8f94c2fe947de65f99b17119ba21baaa389d9a289935c7dc67a8929cfe5e1ce27bed1b5ac1fa1810b4d8eb1555b4e0764e239e2d91ab65607c4e5beb06a13f46741c8aaafc1129fa77292e1c43a8378b0c6a53ef0a5b2404f3ece00149c50adcd68ceddd7a350a42cf17a9a6371b069fe21a972390f731861923b2a6e50e7627eef48238ef4c008f4c8dfd667280c08f6db0a916e4ca223f43923837d596bf64645a7c0dd6536aa94b2cbcc4364e8216cc7af5ec958044de90f79951695e5eb9874182df9bf8a98b63b94029fcdeb0048eface3d65ee6ae8cd4f07605aa9e43d7e3c5db376c1786d34a6119885fb555a31028aa53a3d4a88fd8c870c68c6db6a0c2240785d2ab90a2bb9ab6a8d25b8366629737556e8bee937ae40ce3c12d568fb9960656a1d0d2eeb988f82649ca70f868a7e85157469bc17559ef4673f44fcf3feb5b9db63e4b50f45500eaa7d172688ccecf5fe09cf057079da47bb28a77f3d57bdc5ee430c85ac7c27a8400d058a9cf397e106f1fc251d51d29ccda45d27e5e20ff6b5813a47ec93969821fc49d948817b741e71cb2018b6c7ab3e25ae11dbf2610d872156f3625d8076cea72d23893c2442c4a5b408b8b94ad341698c0867163890230500de0a3a6e4fb7cc88f31a52344452a7a7935611ca2a6a7543ffa468cbbbff2e3981fc96f2c836dfc9483bbb4770a804292d3d12c48d25c59cbcb0272fdb2b7a90215ae38b654fa55b84a28331e7bddf86285fd732c2fde0ea9da2a11bfc33776d5bc21e2ae76bbf1f51b01f1615848e0d341ebfd5353cc99b1c89abcbb9fea8dc11a3dc3b143c1916124c75bf685e0f168da67e6c86b7697267af24dd73ee656a50250c582945dcf8e07cee779e044fa8d4364e7788625a32f0b003878d588252b3a1b46f3d981b5ec38b911426901304ed892e5ed35dbc9b04820f92b3c679107e7ba08152a9ad9bc3c461ce2042a29836b335f35bc523b2f6252b067a0f92f2b70d1f257badae3da54d4b1cfd55c562c0c4c8eac94c63ce1d79ed9dcdc07fa00a20aac7295607ae9bde6da45ae47e328ddb64834dd4be2627568e764250b16f2180c6a103384eff530e118679cc1b646f6c8a3d8d648629a0767e84f7a3549ada7d585bbaeeeb4a3111fae9809d1293892c73156d601bad4a12567c3890fb8fb7198883c08839cd319a09ebb638258e5f03c7ebedbce25fafbb1a8cfe7515292cdc21125fb4f23640f1e74f110478579c0fac64ff03b633a8a5139ef526fbc6c0836a5402f8b9d7cc0415da214a619a458f99da5fcf626fe4817d13ac464962eb66f01d2a04e3b37229c41f4ff1a2cd35961eb0c7f4eb394f59f245512d56f109493f795a3ba67ac3a3c468a35f2f075262c265f93c73ba5b5b2e6c437ac2f411daa6f88ee3c9e1ad5a3c98d75533ae22dbae7b056cbe8139256495b211cf3d5f924d58dd1508d76b4bce2fc249b666c5311749963ae3cc803feb74a8b3bf8548b55f2d3448fd69294ee1b43d71953aa3bec48412b7507d2f8b260a1f1de746cb75294946745acdb49e0c16fb673e6bb77542f76eb43a0eb948ead5661e6f368da571536eaeaf62a60b793a01a199a903b627e9a0a752ca0f224741e885e906a636656f1a34ce00b1e07e00735a49aea575bbbacd271f7193230bc5e594e230be5b11a5edb022dfcd4cd075e4e33b4a0338d714ce3edfb424fd982a729515a4be54bb0f7766076659a3dcc890f46cc0cf97833aa27dce08cde5058c3369e7a6b694119ca76707c55e2ea65093ed811da7b677e35a58f609e5df9c5a234a85c7e83c4e73e40455ada393f3355aac8e29847a8ceb0d5bb97df9410ded704","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"d30bfa521fb03685c8c4efdb349a76a8"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
