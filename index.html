
<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <link rel="icon" href="melete-logo.png" type="image/png">
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #72431a;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #72431a;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #997f5b;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">

                    <img src="melete-logo.png" alt="Melete" style="display:block; margin:0 auto 30px; max-width:150px;">

                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Melete Energy</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="template_toggle_show"
                                title="template_toggle_show"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = 
            ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
        ;
            const templateError = "template_error",
                templateToggleAltShow = "template_toggle_show",
                templateToggleAltHide = "template_toggle_hide",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"68596760fde635623bd48a15797458d25768ec9070e9a751645980217b5d96c32a4f48e185f2658e10a921ae9f311cc1d0e570e2e5afecd6aee5bdea432741030427dc86c498d78c0eb3d9353248dd76684941b13d34dd698975ff8918a9237496511b1a3c817dae440e7b40494f33dcab5e6806d7f41bc4ebe4b04c7fe72d46cd2d511c92a8fca98a9a89400f659b8e596ca5acba671d04c8c795db61073be2dc45bdd02700fdbf6750457cd800d2754cd7cea2adaed444a520cb418632d8ed0468f725be6f9c898e18a9e5847218e07d35c6f942bb366b0dd57edd897ef1f06a8d825ac7a06d5c5fd68fe81fe551bb10e2fa854da3505754c9ed2affaf8812e006d560a5c7201a497ead9137ad67392a83bdef061dece1ae8d1d728d9f58134031c96fb639c9a9dd3486778b6d516d8da7a956292069047fb89e2d152ee3f6b99eb0ee7650d12e797364e5004b2a6c405b92fbac63aab2e61615ad1a35cd77cc722a93d7872b059423e6b2000610fb4c25759b535ce542a4593de47b8472de2f4f65ad79a1d21c73d7b25b233e4a149756a62a42a9ba66b6eb896f138fda2d0acb36bb3a409b7a5988b98d73c877c5078554afcf8a2e75581aeeaef7c59c69a18e54671808ab4c47768af07cb1d7c810a8a55463e6649d509839de15b2af08d756332693bc157fb5901b3ae9f2bef45330c35e7ba9297189d63124fd5a39468032b6b8b4f2966f5d9a3ebb8e151f8c5def09f49d339e33dbc16b4c4a330dfc25749c0aec28eb0433ece762281baf7282dc49d9caf5c6faf0e824f60dd86757a359a5b89c5a256f7bdec841c4b63895d8d872918639a9bf73aae21d6e931a155846c70564c6ae76454015029864dff0955c0081f9e786345fe3e51b50f92f846847ea82f87334269d68c6865db4f9458a3148cd235ddcb3b1aaccf637027874edc927ab08fe01737fb7b1c8de322851b1e749f3d87a683aec018db38ea99d3c586097360fcb7c42fd948e879e0d76d19726a8d67f91cb16184325640f60e8325355f5482ae1f476cd452b496b8be9cb7a7848eca1d1d37c091cb87870fb5042d7201e44fe94b43773419bc6380ce3985494d864d82e06863d48c2496b5989e48f718b6da187b71700cf908aefcfdaaca69ce36eb4fb6f729dd15e51d1f100e7a29eb20ab3a283a4035845d31c11649e8ce10cb66a18ef14c9b78ef6140ef7a3b32619c2cf2210cd4fe6e72262a382d04333693182103dd22d83ce23bd40ac753cef712113962d610eb3bdc72e9ca623fad0b5eeef182ba8ccfd2d934a1e7b5eb31ebcc5b51125e330454663848ee73e43990ed808d1d9b3d347598ebdd46dfb5a7ab375f11024b4ad7128bba4c47d0c7a885b192f084e140ce141c4d09c840699a89aa7899721cc8ab3f6e3be399668e004076ab25f40adf24f9f32150c9c606e4820860e2f15ea91c828ada0b527dfb4d17c42a90102a762f7242917cab37e32992e195da3787527d11e001c4206fd4dd0982a4737f723ee5b4cd64d9bef261384eec912b173126f4ee100a5f84db9681517f5dacd75fce2ce8f4630a86c7cdf11ea61c3767fdc95f501db4e7c813e255775f07c585d48e537b53b0b4dae8a26c03d9de004bc1ae752ca97abba0b1d4b16a8570151fbd335d48b9d822b86cce754ddf649cf601c40645347c1a04603e5ca0c2bc8d56eadca39ab567078d7e29258c8183c2e7cdc33e34c904477d618a92a899d0669f9c606c8448ef6a9c5ead3a4824d95c70cd9adc4498bdba134d547958447ee3338702603b308f3fb329ab5aa9f2883eb60fc1140281233f31b8d492585e9043722a5d7ff7bac9149b4b985aae0a1abee4d2730d3c0c914186d753b1937a40a81a1988cae4b76a0ea5edd36f59c973170bf938e2ed9adf4e9cb2184cfec12df0421a03f6354b37c19527648c91089a42f93973870f638f322d8111c611034dbe875c4fbace3930c3f8e01ff55bd546a56e3a41ea471e8485a259edaeb8a6fc4ab9fc50d1b317258a43b5ced78fdf5e7c7516ffdf8b5f53b4c609dfaf9f7b022ec69e2a956ee4903d4b68b511049f0eb6b94b86527e651101b052fa8208d99d60ec0e844b6fc46b40e60dfe50eb59b349956b24a1f01a13aa2137f31102efa6c8148ac0781f898fa1b073c7a4fece28e75a9ce5a2104553d5ac891b589144526778f4fe5fdea614a545e33740b46fdbe4fee5539f875183662895157821862b30f1baaca7065723b0150740b45c9d6e0a28f065e23c5b95ff8df5ac129bd9ec4434705a1273662bad96015f72cb5dba2fdfa0b5e0c207c13ab2295a88ff019544138a97c516bc36af65d19f8adfe98eafc8d3288c4b512e120e20253235b99fe39f4c169355fd23c3bc205b78241e1b1b9fdbff89cb1ae02847daf3bbd3879e8d5f4527ee43396fc6aa3f7558d07461aba68b9b2b7a21d582cd8b6e79a315e951a6e716ef581542adb90e9a014d1fbfd4782ef177c23ccfdfdd512c06c707418feed79c4e5c8578911356731dee4aa402f32003ebca22e2e313f9c4a973c777ae73b470e64c344ba46b54505e6fe96f21a20cab7c11a5dfe8892edd7d4ea25dbcfe0429a44e806d2f1dc44c701baa3b9c1fcc3863b4216d12d29295aed4742f1dd870a14bc011aa57257d11aba1f608afaa291fd36d311b368f9acbc5f718e1675633353d17a6ee290935c3c6f0eee3450bb207061673ace2c5e858717876cad4ca605a8a4a916d0c0ccf782588627dda2ea1d5454607c6c7a9d5e14b1b2f9e4ccf594775bfbb625b9c2bea9f19a96027c2fbb59270bd2e16af56be00022fd6ed1459fb2fce0fa0660195014ae85c71252598821d3a9aab93003d6def2d93ff130f18044cab03243530614328036f7906ac29ffb503410a9e2cf67239c92c60f57623225206b9bd876bca1343ec9dc1f648bc1a1f01a143c1165167157cb556c01395a6d8c61e205a33a4c197fbee960a49ddba67aec59b8beb142bb3cf756bd7b8028e2466782c4ffa31833a87ef7773b70f217032a6d3ffc3968411b735fed9b31ca662349108c872252b9e495ec63657271474150b0bc316f1c31c29333107a848f7cad29b75a5005fa543d909d54637be28bba273e4718d6de84891859150095ae9ffc3f98782c3d887130b821e49771484051f48413edcb610bcc9443f18004999423f6362a7fb9ae5c21fdad243c25c5213e61d6b83fef76a2593b52f0bda9b1c89cdba34cc5c40238ad82c72a163b7f829bba3a1b310e1fb0110c3dff07e6f7f2c78ea75e51aa773870fdf7808f7bd525f84d4ffac5acac7d7ed7637f3e2878a6866aad5289a92dafe5450cda9d96459197b2c05318748b48d1121bb8ccc1106559d21fe69b2770ba6647035643ada7283594012024b409ce6395b3a6bda7b61f230766f4fef59e355cd51247fbfcb5543ac5d8f512ab62317d5761a9c4ce77620c2f433dec46b45b5c46f47157703e8a073d6231f50e245cc223a10cfd3846d73668bfd4903c21a0440fb372e3a1b474c7a4b6f81e502be04ebabae0a7d0b306724331af62edf2c7eaabc086a68fea243c833e9d81ed298537a902e2b82c7ae267775bfca854cc4c950f1456a2873fe5eb1433afb8b3232b08789d98a429db77bb74104b94b84a106c3b987d20637f9827d4ef96a7bb8bc76dfffe1c0cdd36c5b14b1ce2d705431a6fad771d9aa12cc08d482ca0dabaa5de7d47195648f37070a06832a05fbb627dfda9d1f768394de8760f61fee2f00c3260a12ebe9bae46d07860c22e2493c1922e16af8ddc6c908f76ed1f96c1f78d79363bfbba6386d5d753f6c27b00d7e89c1f7214489f9b91a978365f43a0cb3f62b828a5e1de75c65637d32c75119470c99cc679da014c1a03221aa9f753c02a5bb918b7b86d50de0bed1176f38769e2dfd26e2809fa0108b8c430a188567b686422c9c4238a75b7793b0332e58f8eee934af483c6b111d6b7179b7351f46c680ee927f968e284de0a58862b6d49c0e6a271237f1e9fcb9b0f2b5653016e5947a5a75ad986a64774503fe8732741a12e6b0e2dcd8da152eaf74ec57cfa022c1ed0e0612db8ebb0bc6c222a7a9b7c04b61270dddd2501a744d28d561f75267f38ac017ff1835cb9e366f973520d16008a311754e813aed601244ba472e653e0aad94f09678f6dcae3ac640391350237c643941776a0b712e941dd8106ab3844bcef1da657f5d4d09c4a1008e8cd73077605ff3c2dd9732a527e6cbbbf39a0cd7082e5893832b53b2c2caed371e39d557940da8cdd3a8326f23f0d0b920f8e9d426c4d070b8a07a95392a7d0d57863172494dafb3ece31542400c1a0f91528c75755688bff3a1b7a161f97abd95c4078e9f56a69542eda9b300685277721729c3944b0e1c80b66febd0a470c858772fc4274ff447dcf47a7ba9d5629453b05393468931da32e94d3363835402e6969afd417cdb2df8f7c6c3a92cf260b7358dacf370778c43044ec3a36b0a46ef45e4b1f945f14dbef8d16860875af376bbb034742154cfa33b4a9caefd4c19f088c3e7a8cfd43512a590c9c83d7b31852ee697ac0931dda9e0502de0575fc06e9647cf0d9c72805f700640de195b5ae6b2b0b5d731854172206f39d627d98e40e5841deb408ed8c7c207b4909a3120210e166cb2713f55a13bafdc7146c781b4345e97a79b7a7b8213f22187067c2461f829134c6eda736aa84483e4ca4d693495fa6a62b3d507d0dd2af6ef0959704bcad5739ffac2ac328e1f7365f2cd886af8a308d8894a9603e81f6e21ab323926e12a0f36d7c008fc315ea15980f5acadff39ffb446e3d147e63c123771a021ff8e1db39587810ee538ef75a7c06f28ae445f3e722d985fd90de6a2c4950dde0954e606afa6804aa7e3abc45983c05cb431959ead08dbf81fa478bbc13a289eb4dd897ba67c05e762a12e84c240571cca758fc054340d6805e1704f6a870b9d1b99cb8b9d47d3befd28f30d13833ae10882db606017d600b0f1ca039b3263db457e245d09dbfa566949a890385e65d36985fc53d12e74892a2c26b7a3b4a99e6273d0683b7da7b603f822e4fe14f4a98be2372081324787b0b5b088331f93e475877f7ef21eb38eee68f2520f7d1d414cedd7e63cd0ccc9b2e8f560c108639d128119796a3b0a91096c6832ab9ebd37e52f963e791b158c5056749cac8461fb1e9226ac7ffb3cf3b666eebd9ed2fe022a3d2230470a262cee723d2eae11c82b894c9d843369aa1a6dc3865461a39283de287c29d5e36be1dd61d26002e7acd6d44502f3b6033b3bd05c06f86f1e91f3515f257494a6644a259b7081c4430b4370ce5ced603b772326ab9ed69e3f2228c4453220e42792b0d179a13f5b5d449bae5425964018dcb7631c9c6312cf80f82224a5118d53e5661e80b521a2ce52e99f9ee5a3ab379917d5f728550cef5303f3d8362935409b4b01e1bf57e07df28012ac9e646993fafe900d2594676db88da1646650c41b5f209a35b4da6404e458b4c8c03337da9ce67db0d216764b9f9d350efd1c5dd6d1245e9aeb4f609a532dca56728015f00f540eaff0d78007ac299bcca7c17d0736d9b4dbe3952591548de3768e06d8a43041e46583b40c950c5f4065958c77da31f8cfc8f9c5d8497e5e3addef38cc9199b7ba58ae13c1698813841f0ae4bbf000a54ba48a79ba393557d001b00a3f5997bbe2eeafc117cdafc7bdd56a76553a453ec4f08469918a69bf3a5b35fb2e5528a91d66338f168d9d0cd932b748c5d479041860925abb65789a85ebf2b752f2e82fc1c9a351f2768381768e85e4ff6c0449034ac05dcd840f1c5c6978b477f10a0f5c626880f3f751f770539781aaa2b620f8f417a3b55f501223c2f9be7d04f7dbb54a1fc4a19d8596c685d2256998ea76469ad6f66757eb7dc14a5312eee3e67260cf8820562ec4261bbdfb13e759bc0bb88f9f03ab43e66bf75afb1e09f367233252a23c81043636e87390975a11dba901884dac0d09181f21074f6c9e1c9ad6e17c30081b08017b8d5ae03d74582f3bd1e9aec2c871d4fc105d3a9a5b36619e9f2df45a4e3a4859c4e71a191ea9ade4b50451e3779e8474c86622c8df4494a82f316a9e5d2f0dce00d5ead01252080d5192061da58aa422bb55bc505e728eb3bcd1adfec96489b36b50789581d6c8450ac06a54f0cbe25e026d81bf87d6da8b8771cc1a01c01537c88582ccc4b329edd67c9a4afb67cafa1f91b737f785629ec66c523bbb4f7cb3d8fa953c9be478c056ee093597b21e26476a5380375bec6627eb1e98dbad5bae5cad904e9896d1b63fce89dcb44e59b6601cb2eeb2db083ef947157f0550fcbf22818d95944d85200f4b9fb1553481f1033692875210ea061a0c88f3d4a6c2417dc98b4293213def2a62fc1bebff20778f1baac37decf40589a08265eb3db681c906981f8cdf007e5228b8c9ecd5128fe2fa8c0bb6b2a0977194b5a05aff8844e80fdfaf40d99f9a80115d147d3767cfc4a2590bed9327c1ba34c9b563cbd3a8a5876bfeaab5003b5213fa8b4b8b148c89e8f1937a4bbe28d608ffb934aae351f2141cea5f377f894a444ac5b8863039f29169f0fa46f205a516d13be548b337d15c07ab75d995142ff3f8e0248d48265b54cea3b100bad0d56c4f1c28082f9be4ef5945e5890364c68a585d2199046c896da96366464cfc31e021b7751c56965893c7d597fc0cd6be1006f72c206f864d5bf219e7780c5563fa95290cff8e05eedcdd6772286c24810e694e776a8ff233e237da95056f7e7415ffb4342bfb90eff633e1e00a9a06d59adea111afcc29aa54e9fbf14f8f8e8597b8ff71cc54d8fdad9f43c35f801b56b6b225bc57141725e5b95bfe0c11b6429c5310e52b657b35e7a028b46f007ed9b100cf1f62acdda079b5e4fb57b615ccc8b1e10dd1be139b94dc3b537a4e052ec4bf19bfc2d01c04d4cc0c95860f7c0b628afbec5499e65b96826c19c1f93ed2bb77b4e71526d7c0b013f2777e7a4137885df0fcc83a2120c8b47e0b769c38166fa6a764a594b8f13b278904bbfc7105bf7a2713a606405dd5650f706483c38669903dae954105397ad46e8613718fc4dd7d395b7b5c73193e0b37c6b63bc756f4b2a551a3a8c3da2202c6255f7592bbe829317418c28405f09862967c7530ca3b7e37332f777a31e6dc8f670becba110624cf63b3eb96b1bb693a1a61f53ebb7a831a895c30e36101d949f88b1ecf2b2ae69e560dd169ec23f329f9f9c90d2f3f910d3bd8ed75801e35056d7e634966cacff9b711ad9a5911de76cf6fa814a56c5c8eff2af31a64fe4865fab81436a1520a3295a04c965c210fa558327ee679e034393a29d822374c777ffc3a8b5446e9e0cb988d78fff8db98086ed2a7640411b740db03b754ab12c8478b78290c90e11beba160f720ed779278a66f6c937afc8a1a36125d7a8d8c18e223c53c10f98113b7a3b9ebd7aaa81d7eba0aa3eba21c11baa0a89d7d9ebbbf3f6c29d551e759d9de782d4b1fe65866beb7376271f04f7c4bbdadef32cdc4beb34bb9efefe8f5dbb41ca404342c440c7d7060ce52d34e673859f1dcac1d70d3f2eab07a39afe42af57361b62fe07eb531cdf21f04d4147e0181945ab0ec072115629ae5932dc985c141be87c0c06c625cf4c288842a4d4d0ad70422a2ae0dc6cb19f2e725966d1939d1aaf18e4cd788e4b1406b7141ca89f91561bdfb83bbd74d1f0e6a09d230f12e687907c128d1b5551fc9ee86363e8cf5663ac8a9041e7ebd74471612c5d739f80b5679ffa0d3655094a83ff6c24b928104a3ab6779d26b2aebed658a5726376798b769d1a862cc897534dd50d0ad3148f8aeede43ddc5d6a23633f0d3693783da591f31659d49a1779cff79a11557a1a027caa2e99c09d5111ef2d8f1b4d595d07fac53b1990474afc91810cefbd1cf60c55aa9ef31025eca197543b6e9e0694fcd6b5cca7d11046f73846fd656443ae6449acb26809033c762d7ffaa9c6e20ef562e4a512a6793a7d5c4cbdffbd0773703e46caebbb13c8a5d491a1776199bb0a77dfd996851c3bc7f473c447d0dcd23b15fc0de8752fff9ce51885984747f7cdd434ea6bb5544f6be2f73167f188039752a31b7990d13ff6c92430d7198766ce96587dfdbbaf6a33252a6b5ba25da4c28377bc8fb8e2aa7c4929e78dc5ebb9dcd5090b26b86bda0f6635379ef0e45e40b10dcca45322907fc44ccda6d57c4bfe9864e2a78196d2092ac876c1430f0808cdff55fe1bbf4c17677b8464838935e8fbc1bd7faa01e5ac29b64677ee09c3b02abf95751019c76c1f436db6dd29b242b5556611ecb706bf729eed6271ee7aea167201933ec0aebcb59e462951ec07fa64979b8f4f602c601200a6972a9319563ec0e62e99b3f4903d7462047c2babc494a3215da5c05c40548cb2ee0fb8fc4527a620acd3cf977fc98fb1765477fea71329988cbf0542bf26b5e6bbe71463bb10c42bb68d1700b13e95ad5fa83d5d1355925d14de0b71336c9d4c1356c1037780338610889db06b5e967cfde700c1c66d7e81ae15f7e49eb1b046f8e69aac984e0a78a609ccba2fe7751c21f7216477e2afdcf8dfaeb6130371f015a6e90d49cfd4fd17e01928dfe33afe33edb80e2f12aad8888012e51fcbbb7c43c769e7e5dea21b12ae0d3f124df4c2c43daabc136bae4252a752702425d989da0789b96d5b26bc886a5730bbb66ba1ff459d7b6f87f145ca169d5f2469b56114edc892badd12bed749b78d448832d21982d2435662dcf2d12da652b7869f31c3198b34485d094ae3f392dbf7c4494ba46373288d9730052afcee14a073cffb554ec8ff81b0bfcf5a3aaa4f3691e495cf03b313eb6413de1863b2d66955cc760516271f60b13599b518b083d63e0576c0c95023a40b7204888ba7a25a5b189bf1fb8ccbf301fdf9262b8856e66442e459c77ae09221ae07d3133ce2007d173f8fa290ec9b00ab47488a0607afbc1dd2d45b66bbd4425a576463d92364a04c430f7f9c8f4a8fda23ba84b73a83b3153abda865ae1fd24188e2ce32935b62fc7f4c3831c8388206e77a1bf8d2cd6c4c91dc7391347ebeb7c044893ceba4bf1ab4e4dbede6019a7c53f19b388440cb8d629eef7cf741976ef728fd55d4471582814f4e2567f135359cfdb71697af7767d9c8c9514ae3d3004720ff4e20c11412849417d4bcdef6ed9af904737d6a45352d268e052551b78d1cd3e8f27d451a08b38522f9f8eed11cacf8be3412fb6ead40a36c6141bca0bd77d1186d8f568372d0cadb919fa2368e76995528f42cb3db2a5f83d1b04b8453fb711d3bd3ee05ec29f555075faf0a8d75cb3d534ccde6e7d7e06a4dc794ec1f1fc8d1b56c2ca295170af8f25b735f488dd2ce3a87615f30eadcafe1f365b914fad00f1b09e6785588e5e04db0a5417133a282fa8ce9a96dac1d115a98c09b3878ab7e2dd89dbf0c014e855e4ae939a131d839aba9df3a7ba3449c0a0c841b59ca738e565ad397ad5cdd3d5d6f9a713b498290108cf62e1e42c9a6d53c5890fb7ee98762a0c0931eb1308c8656d0bbb6b41bc470a7ffef7fb8c75456f6a9729f600a0e3f4c73d5f5909f92cd6015939e89fe76dc5b025346a14a1186368e0af68ffde7ea25dfeb50b26e95dd3f87f89b27061a1b054fd41a8c37a09ed856fb81e2b589ad2483a52ffeb1a9f3ca74e0ab9edc77811c89c5217b212884275dd7ff0cbe3686e6538c8c0ed4587198e25a89345f1302a2b545018b4b724b6466a702898d58deebd824568faba256abfad9e7b50f19f8d2cef33d40535d70c6a407a197d28d112fbda32e8542864671043f350c794a68d82a97ecb7dc0dacd2457af669cc1b0bf0c28d8d2e09f75ad2ad19b74dcd99888e8a42d6977c48930fab4258f7723754f6ba02a0f16775400189017910a53a69087ae4addc0ad492ec83351b76ffd679e4a1d514d98d301ea9911da4e5ec4533d735bab3d346a533df4bcbf9fa1473b988c27889e858c7a143abb82b301816c37895c4b594aa6f1634a35e596658aff0220e75db049ad458809893b02d673dfc05f81d0743b509ab53fd60c3130c9a86844bd647bd419fdb1afa68e1a6d3fa06058253f5205782f51c6619014dd762af50ee338462f4c254b1740c1159106ceac098597be54b7cc7289ecad515605470cf751482e3b98a0648d6b51a8d3e9dd66626a5f2184b5dacff7d78e6fc6aadcc82f7aead3765522bf288b601079875bd067c78b00cf906ec8e66be0c9c39a134178fee26c4f7c422e8028ad2dc8ee3800ba29e11dc13835f57845781022e5ec012cdaac1da77feb0dd64dc37c0ce02a0f8e7c40e047470502ff89d9d9b714b947538e99073e27bba8455d827bea5537a1b1d20f1676879b44004cb315df6e17dc261582c1fc2596a7a2540bc0dc7db1e7059a3297a36adecbca9b2c7af3070acc8d534d25d9e55aea4905b6605e6e9e354882746a104a87d24d3387c79d381ce833cba78f70ededbead6f1a79300e79da62060ee29c87e25db36b1aa252af3c265ab16dd55a8a51fd237b010f47196461830077bae37c0c76dbbcd175f0474cf5185f77feedeff951e263d798f77d9c33e57bed77ba656197b9c5432aba6d8147421dba30e1dffc6b8e046595f47f00eaedb1fc78bfbcb72c1db0403ca21167f7cd8329c846c034a3f40ee4a9eb968e13b782465c545202ef5ec39e43940f01eb6415731d9cb53723248f6115e4e227a8e34338f91162d609b112c54672784aa06cea2bda7a4e2f5f446d3645ec328ac2dd89d74e5691370a9c791d10e0b9dcfe4a429bb2f5e333f3f2465d08811253833cfd2bf0ea727ed11458bef229d46b3a37b3b64be6b261fc95a29665ff23d817544c52f30ea1d16d5a131eb44279bd1cfbee28da80cbf98ecbdc7104ffe571250d136de9f02023efe047548dc9b8cbbe3b25f42a8e621278545c5b7e61e10fddfee445aa409eccf607fdbe3c350a072527c5c8f5b428c0973dbdf2c6e0f5fd9b39f3ad36ee6f76a54e3708d67f865bc1000fbd7f62357132f01312bf85e067eaf5bc5335877b2be9ae679eb17b7e28c06da4a57d50dfce1b89d4feb15cc9cdd530f4780589f470802e24533ab8ab1961dae531acb3a4d838738e6f5ab534fea7e596fc5884bd97a76f8035f37a084144e0bf02b5587d92b0d92416829dcafe88856fc474e7225f7c244ce3603355c5f3d935bf459dba3b7eedf55e35740b72bb108f77ee9b5968b818c274e3c3e9a9f8ca116277d0056c5c2bc68912b31dc3ec9840904d35b86851bc7146f1e55cf91cb9f827db7e1a3a000f67fca3580aa09d8b64e29e08ca84c42f43b356af4211e4ddfff0c9bdc46920cfa40a3e06d5634adc40932ffcdffcc74dec83fbd03bb72e62caf56e1c44a1d94dc770cf80142241f51fa623d46a193f13e216efed83453400ad028589af9c3dd406debce0626476dfebe272ee0079ad74325c17500fdea09bf99c103b1cdc6f799410bc580146867f44985301a7a616b797bd4dbaa2d5ab8c653b225a3546fe91ba1ed638bba340c9e158afd69c69981c412c6eea1565f295ad7d74b1af3962779dab68ce312671feec5077bc112315a16ae8b96b85bcd4768fed54882990ce32451eb2c9d2fc6e3715ef75ae9a1cc9266412bbab59d9deaf077a0d18da23df1074035d874d67cb8f84ec63842ac5399707301b5fe221750ff2d0c35f7313eb69a718e5d2a1ed5aa77a241e27b113f22a0886edd30ebb3c08f4dea8a1012cb7f67b3e4fe9b7eb2547afc271cde4dd59b514eec43a9c1e210c5da8b18ba00bcf9997fcfd04dbc12dbb0c8d2aa82968383e8d84b690ec3e5ad1a9182c9f9d906cd597d6870101d9984e1c2237c2ab88c6a9cf4df0afeccacbb0eb798cfa7b69863ab8938dc2be58a2c2a181ab42b91848ea5e770d9e0838cabc723782ebf074b4382932c7582b6e5c3713c88483edba9ec7c52aa3ba4556e27b86986e79c277ec80cb3c754930365199bb9d5b8bb326101859e79694746b127b3fb0719a1b5e4b0ab5f9fc0ac4fc3b5ac2d0436dc5e7b97601d994eeaea445fd7e1eed5282611862ba35a0224f5fb410fe81438d634f1518883949ad3eced61a6e16830ac2b9a454302f7f343fc4d06c8ebcbeda6141973220fef2e9f1a24976a3bcfbabcefadf8ba6f590c618f4573f9817a62a98fbb017057c2c60faffba42341402db5209c0668a2093d1c9b3493dbddff2f2ed107a31ec8e159517ace643a1b29150d9a545d9abc7e1f4259c888eeb321fb2c8646365b9a8e2a3bc10fa35c1e31242b9dce3f157e9311c5d33bbed5a63501e655ad58a9dfc9d1dc068e2308983978521107dbdaa8124cdeb1ced58441a9af484632ff9eef874ff39d01fe4683aadf34689a018d6a51ed97f62731ca05eafbc9dff985ca61c17902c7af443a1c34e560941c3ed1d1ee11ba5961a70aa2b7a357cdb5eaf4f43b3d9e3139d5995c90dd1f1f8b1d8998792cefd00af867d08cdb3229fedbb53fb74283b2dd0f4f6486c628205c107e91457e9eee921a7e4f43e2bb8fd26fd850ff4db45dd0f671e72e18f4c7d379aa58f0ac299ff133b8b2d796fdded67eb262251612f5891d1b431ec48f01820d0f49b7eb5f7edf9083386f5c33fcd2e5de9c5bf6fb21698f78dc6b802026b8f3b5d99b95842080b2c18a5640951a856b9d0d6b1da1672af6bc91cef44a56f97fa78db2ed772c012e762821a791d86c9b94b030e2e6044a9042e0b863aecd05ee8271637956d9a230a1df7066e4240200d03de3b86c848df3ef5feb20be8f4478091abe86ed20fbcec79acf553bae5036e6ba7be11a40468315d873f49b268f40a1b580c6f23d120ac3d6c4c8d07c0b2929194c00626de2ea56aef8514f538feef954febfefe8dd0ec8b33b5a689fd24a7fa5c3be408fa8ec62a2e64f2ef2f82dd98bdc9a4ae2ef0a9b68d7130565fbcba3012369e1839c30a150558843926012f8318653ea376409d308faec53fecbcc726b0bb507d718979f3941d5f6af9ca1ab7aa94d5ee2805073956da0312418010febc2d1a22da0d9fe8b476168314ee2cca71171c3463bff57cde7b4bdfdb02e7e451bd5e742795a4a880b7b72a7482e10b26129f1472b2de433fbf236dfb64fd1b44a918fee9cb8dfded6b904eec4a640034db0df6404e1a2e56dac9af6ce1303d5ef4664afde60e94da8a986a13c7acdfe15bdfa821a92bdb28f27400c30aa18befea264aff3343dbf7bdbcfecc418adbb082b1685bd012bc783801979b2671d79404333b3d44c45aca71588fb4f5e19f15a07a05965ccbc54e5562af5cc1192ef97b04709eeef0adf44b670c73e97327685113c557385115731ebb227e7ed7bc78e59eb60dde8744d5af11a9f73d93d7929b642effeeeaaf86ca9b44ad7a1ba993cfe91e0549b7fbd4688f2271235236dc9f95a34ee0cda5ae681e8fb7f65fe7727a37e2fb2baeb90069b843611dd53b260e22526f3e358217ff95ca40a3e468ecf81fcb26336febf50ab3366d48fa1c3b7a000e34bc2acb39697da9c09021faa00260c466d7521ebec1e4eb8595ffe95c4430ce490eae65ba99ff081b54ae0892b494f85155e2b11614fccf005af14a7cae376d579353a06429e673dc9774fb425f3641247102cecdf96e761895c217416a3b6d321ace92eb80e189e8acfd46c4266119db15d0f1de289f9775bd3134e3320d4629bf22ac58bc3de5a826ba0717e4d392766df9b3a00a9ade69feae25c2ac168ce960096ecb7fd0b237ddafcfef334832aa56043eeef4403bd6a92e83b95a9a84e40f080122634313cbfb341b64950c96c13a39706f1610ff6a3c488fbe7814f16884294f805768d1e368bd35b2594ab62cf11b22c5a92136e7fbcfdf21677ccc9e22502ef01fb4d6609eafef9ba98272b3e0785ddd05000b4246bb72a4167fb68022d1e9da56e8e1baceca0981dd5d9f1947fa800e13a5201190b56c9aa3cbc47c3ad20a9feef863f0add6a16410b8a6e203332c4c7c7ea81d0dfda4626d059646707310d307749fa74d5125011a825f48afb9cf28ac2b7095e9a953cc41924fa8d61fac8a575fdd117285b301bf7b3e90f9eb7c2204b668f30f98da9d7e0bb3e9f13431981d8aa9e361c15c1073681799d6521ebaf61c5c6d34947974df6134ec23b79bc81f01200c7657c59ee7bd3fb283c5c863e4b497828d4bdc3941ee558eed59b4ef013a113dd4092b74d9d1a7c746ab5a868deeef78b26ac7342a8aab409cb6d7d11aa2030567f76aaf40fe7dce52c058f2bd7242e232029e51688717de9bc0ba9696af0a7ef3472f41652df523efbf86a2727c2bf7ce229e4a4d7d9fcb1160a71c44dc38b483ad1d716f9d29dca4982a3679339c9c3a977d3d52a04f8f379df7346700d7891b893dfaf853fdcd8611c151aa5cc9f3ad765a47281bf0d8821ce6add071c38925c9adb87ecd2a21be6bc7b51739061c80e8ec82fbaa05498fefc2e3cbedce662b214a94741b4edf7f63c9851ec3ee9467f63874a8b7307bf7ebc82200b3063fabce1db209886584cbc31e611ad28195993faeda50844e66119940a40df7137552d2a948cd863a039be846507b42eb62715f0514ea008d73e09b485c772db90b3bcb54f02eb9314b379bb189df64a6d301d55f911fd310ff4fa9b78304101abac2392b91b7503c41db3f419572263325626c2833e8b0ee25eb60b6a832e625dd92d03393a4a92210f52fad38f1cec28ba93a6c84ee711425ee54419625eb5d50836325dfe9fae4cb6907e70e1a87f7e76d326aee158833a5910e4219426e40111cd728a89880118f0db820d72ef47cc92ddce2648cac8454b5fe990a8d974830be2e669c95db0b0baaeb6a5b2e88006eee1540d2af270c4546fbd72db9166636447171e1d85a21fb5a0a35646f47d806a11476431b4af4dc50ae93337878968dea45e322bd277e9bc1436c7dfbb40bfdd3c13bc6f8ce622cfde34f4065a79e6df72083b7404b1c7005e1156174a745697b44a3cd0eff6faa77a2be147c7afea8bff28afa4e5e979bd8b748e66412e72bad0581cab82a78f68a8d4252f7f44c9e71fa8347963fb94f181508943fb8cfe7f7f96e0c940676b0d597d990465f21f6bcd9a123c757de4ed97cc7485f2b1b8105cb74d88ce189e007490d7f46f904871261ba42861ebe84876731e41895ca05a489937e1a875876d42ee89817788bcf87ef24fbf57a6b2ee7da3760ae7b6f8aee9cac0888396e735da1acb328d049986133d67a103c82b535f5dfab77b55de4ce0ec84f30a0825472d4bd99803bf2bfe7084bb6577327651459fa7b9d2568127fd5bf468b6b8ce9d7f1d5b5fd89de59c1fcc1b077809bc60551f472dbdb01f2194e0da0ee4f7ad9a99fc0ce0fd6168ca099d53276a616889f40a1e16889ecf0307ba4370e89c8435d78be2f13ef87e18e653bce482813a5ae1052b912b9aab2259983ba927ce70f6b365a06c4bb0391c7ab22dd1ae45a43f22e87ecfc60ad0294ab0211521a75a5df02b5fb19933c0a4dccc2165006a4920899f902a7a500b2f5ce040e84dce35ee8de4629d1ddfccffe5bb73bae95f5e425a8b44aac0edb104f4859261bd4967a9bc6faeca78a1478f3976c5df81bb3665e6b2d66530fc39634013e8ba4f801f18b2efb9d3961973e2d2bc10fdb98c030ef455d02f931fe109a9de3885f7e1c4b51cc55c8e64547decc17ebf7209d8fb0e357a6e266794b7e0c56e64eea3cceb6efff31860f6849c4711dcc840bfb6bc703f63581c96c38327f8b1bba86316a4e2981f299a72bb3f51d2bcef421e9eda4df18823d381f470f0b86f422699e305f3bb8c32a5d782fbbdca8838e4aba62b9b6e97bb9aa8bfaa494d789e03642011f0655fd91b7dbc0ac2a660e8c97017fcb05a99e2dd34cf63d9573d2c22ea17d8427a5fb3329e9d4404ab9a9ed741d1548cc069df0966cf4223b8a52bfa35d25304b6f6c4a90542e69c21a596ef5717bed90bf66a11c27bd3fa03d1d069a151ac619fc08d5db6416897c11d5a2d0def73f8d3389a46d8bab743cd8c99156ff3059aca4af478cd94b56ea6baa85f413e903af2dc9c516857b5df87b469fe67f83d376f2451ed99d2f5402d68ea16ed725c82c586e7ec76374ca2c107c7bfdbf3ce69dbefa2ff3e208a51cfcc7ff2df6965ac92a0f02f703c490f3788507e5e15523ca187752944ebb30669d41f4cc29a04f08d32363892474423aed1f48080f6fcfb961c6123608c3c0fa2828518718c959211c6d68ee1f3e968a9c9eaae33a272723bd87dcb85407380b9c5a237cf1557892e373c84037155463d28a804d185b95aa5c13a06c0f20f7872f808fcafa28311c32ee8b15cc2a86cf7778e8f4691f3181a4fc9d78fd68eb1f55dbe1ec20b5408ee263afe15e895893c1ed8e0c220871712c2e9d87fabbffa71e496a5e602e27f012a4e2870683ba651714425d1097b6a3c8f0c1c3d772d582af8b94dc7bc4a45ebfa1de87d1230cf817b68e51b467ef9135b4d3591fe8ca2e4e77c4f3fe6adbf0a488b8437121cc809316c3039690ab8ba46259374e83bbbedef6421adea15f527f8145abc011a11c2e99494ad564efc1ebf27950d119c52a838d45f78a67e162032c7dc9f9a5699b1c4eebe8f94d5bb190a579495301aa52923bcc2e6b93a9fe691a3911aa6f28b18743c8f94b815d99b1aaf05d4bbe10b76d1dcdc35172a214be4b83e6b3432e0efefd7c1af19508164e1ed8fdbd7909a166d70c0dadaf8800af79f19f5fdeeaca0ee8e7a939b87a291788a323c08b6f11c1aecb279589b63e4c0b1b902c7aae9c6af90297970e53182c40dcc4f9b1d2e7e24226206ffe0569ffc8305ade25025710a7264f7db1cdbf22aa53ebd12f9c0380053fd97ccf09e2e5ec6eb4ccded5ba94e59016bc4f6833a839a8042dd61a65028f9a777609108c14603a2144163fc7b3931863ccda248137e1af095f951778dd9645349570f144009b78a602a49d7851a52e906b31d1898305640431a3cd7d9fbe2f8ecf5a0eaee6345da846ab976c1362821fc86a1139b9814b5e2d9791c6b7fe2c9bff76126ed2168d5d701ae1972439dbc70b09a65ee29d91da7edef8121f5cbf37ca95c5bc4926cf8bab42a6e54bf8081dadd7acd543e1471f807afa2f72c2997ebc1ee70236f61da1b62beae26f3abd12881263ad32506be08420d4527d2fcc8b6cddef575f0dd5331c32afbaa88d92c3006be2546d9e814c2aeddfb047d9618c95f2968e821c96284590d0e4dc9f725204e013065e153d92566a25675e1e6d134cc126d8040b2be6e49d925c472c6cac9398656157cc6bdeb6424d958d4446954249a284bc984913d79fa9bbcec0b169294f8229491bfb4db41de2b6695646b7840a87b5055b264167e7ae9f81b3da13ede6c6c15887cac0cce2eaeaecc0214d0a10b6541334c5deebeef4e853cfe49a5e27c24d40bd5d91003e84ceb0ab6c32c825f6a65afaba617a03d527deeef724bd2bea0c3535ecc982e61bb276696722a487c5b05fd15fb69adf21d494c15c3a48bc34d73e3ee7aa3db9c5fe273c2eb900d21ac0d909f6cfdabd3bec6160610f67eb58b0b1fab9d21c848858a2786f175f1b924382e3557fac4dc28acbc77965153d83552cbf1d50e5f36de2d24f69bbe59404ae9abac0b0d7adb3b2e4c3da06b9ce185f447925e2a3898675551957a6e4d37cec2c6588bef1811c98afce1fa526d47d3b553a03dd6dcde255bd97af7ea71119e3cbe81842e0ac6381c20bdd77ee2c3d56448b84fe06fd93f9be50e556ad4a9ab650cd3245a2ef1d9257e56cc43689894f23b0e73c181989f8fb89969ebce92d9d1f6196b0ae21af3c4afb72109c14d519135e73776daceec5c5d5002c342ecc4f85cfcad8ea15c3e56b57bade8e0778cdef1398f2fcfb5164001d1d8a850bb6975b37f38d9cbd01ac7f7e2c03f29294ecf6dbb251ac4c66c9fdf4a907b1dc3c560c8097e5c1aac02063cac043c870c93e2fa4698c6a8abee7f14bbb4452ae46f2ca09e0a33a8b841c7c348c3b18e47838d33b77f7ad2fa4940c128b60a46bfe4d6e0dbc261008511f6b9d44bcfa9ab264a6dff2474f5477987f930bec1a855e08cdc32c614eb7c6b10dbe975431160f18aa59b2d4478993af7c019b2d3c091828cb6d65ccebb74c83d672e0635e4a19663c3e01f579d6258dcc31365903912dd02bdeec73e8f83f5b0afdd8c7dafeb974d0e63ba684e410395f7623ecf25f45471a6cae39907246e37b5657a38412116c200a3facc23020ee962c71266036f753a4d0cca6b9a9e7df268f25d80b4d589da7c05d1d1a75c3bdc882f64a3333ca6c2487dbe95d9fd584c1010634eda8e017117d3a2cf8b3eda131e3b42905e4c36fdaf1dfd1baa247a6a095cdceada08b8f9e343380acf441d14b9c7014f730e069822441803162dd5daf8c085832c0c8c4d89c82fb7358bfaa899643ea5e8b7740132c84ea0023b838be60e598688d3aa15ac44c2f98755237e15f1c55e3590c3a2f5677a4170d3a993dfe0053524578e373e4b857b47950d88bf8a89d32655aea601c98f22432c8608b2caadb2fa7d3b2317edcbdeb673217d6f99e706634da34bda76a74fd717b78347691279416caf65bca4892e5e1f19bbc5982634232d6ec7ea5c12c9fe72340791d25b156d78bd82290278d4d1b9a2fef2b119bdb85c71773232191e46a0d445571cb99831d40d152df2a3414443da87bcc09a6461fa37ce10d5610d9dc9b492e5057574bf8927c76a025b0985ffc6880ddde97d05f4cc19d2f97da457ac017408cb459bebc4d610e70f2234f17edd7aac60e07f7fa48f43bbb8f9ee27358807637cbe0ba0403a1c5f3ac5fc63749120953f4c217a18afa1f625b86583b7849bf92dd15952fe1ba68227b10ab54a658673a829196a4f0eecc7bdf0dc6c85923c363c805216554849a23cdd7cb0fb20d5a71e66ab1ea3155e3b7c665bd0c0fdf2c83e3ed41e39cac0a8ac6e95832d1dc3fcc811b2478f1db9d99b513b956ad66112a5043bac3d1153f2f6b5a2abff07aa61510f0e324a8828773c165b2981da1227bc234309d09f69ea0fd479531f5bdbefd31f05144ff4aa9d7bc8026b256a114579a86d4b93ec6b1e72311f5fc71c1f026e5bbfec8e869f7be0146e3a86fcd0bb42959c60f783a77769f710ddc1cd4207df208694c33e6f3e22104864c5ef6682399ba56ffe67b357830104dd35e389cc391dd194e5132e4","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"fc3dcc1d2587b32681630c3e936e44ce"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
