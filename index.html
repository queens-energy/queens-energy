
<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <link rel="icon" href="melete-logo.png" type="image/png">
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #72431a;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #72431a;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #997f5b;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">

                    <img src="melete-logo.png" alt="Melete" style="display:block; margin:0 auto 30px; max-width:150px;">

                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Melete Energy</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="template_toggle_show"
                                title="template_toggle_show"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = 
            ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
        ;
            const templateError = "template_error",
                templateToggleAltShow = "template_toggle_show",
                templateToggleAltHide = "template_toggle_hide",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"7e1b5837de1f2b442a24907d8466a4759d2a94347bd5b14f94581009de2be1052857c38ce3a529f65b29dc6a94e0fc843ff1bd1aed1c86978a63ae6f01fb1fba2317f2bb3bf89cc4c917fb3a7c957cf6e644e26099128d6e8b9aa8fdca21026a1eb73269fa0dca36d172543f86ea743987f8f7a1653a8401b59f371897144aecf26562cbf9d60e134a879f9e736dc3fbb57c476cdb6ae1b21c63a124b9aba40f2f42d24b6159d75d165e9bdaa3b700a69ab1b928d7a8f13153d6c18167c4fe0da24ba5149fb2a63e74f060e3b5752a7100196fa0c2f5d9f1471a83e42a8105cce4970faf7894a95c084be76977ec8fb7e776fdd0ee81dc995989dbcbe04b66fc4fdbe3a369af9537929e56205fd0f1f4c791baef579484eb9e15a244023347d51021aee83802a1c2157f0fd4e50131144abd588eb1ddc0c237df5ef786c1c85dd97d4c4b5886225cb9735b9a3200fa9e9f88bbdb998688c19602540e5e6abeec46934f788ede3fcae3539dc95af3080a86513811c96cea5e250ca04142dab902d7c059bde50e8bad13db1e4c8ccd0351d6d4979dafa65e87dad56b110a82b22a9af62d1b141fdd771f763637d2e138f589fed9500ef3ae66795d339066e3caa343fec7a1c2990da7941f9f474fecf42b0902c111deb0d8427d577b3729f5f136275032f96ff6995c55ed9bfc6c6e710ed3cfa22caace25f0b8485d1c142f34f374537f0f547ee2fef50d15aadadfc3c307f7b41207e70b6a516f9c5e67aac9edbff886d3e4e04cba5837fba2f8c7a71787ba2f94b33a5c8dc7671628524159009cbd74a4b0a34d38ddbd24f47485874134692ccda7f075526d94dbd285a26420aa88d675ae91c5cb09630c217391731dcccc2770cb24ea57460d471a10360a974a0d6f7e5236ff06af26a7d1c06b904bd17c00214895275b3baecf666755526b0f0c51df83a298e7c2ad269be92a6dde5aba338528d8de5811bc3098b76a2dc2a44452c1b700e09390a695b67bf179358931131b6a4c50353f28e435e2b69d990219cc1834a0c925b9f6311792ed265e2da00c437007ea0bb59dc11caa1faf4ecb0d59a43cdedd3bb51ad28a102177d852d5f3058b467f408f515c500f8036b7c181690856e7d372e3443deef45143dc44e330b256e15c75f4b60d77ba24f0bf249c6b54fac07c38e95d078bf424501b573cea995b7de638c0a68eaf3971e97cc5bec46645f9132fc75886bef5f0d4149e46f6d1cbb970f4d179b787b1d546d8cb52e9b082d94c48c5df0089724dbba94e0ce44aa3b25f1527791cc81c0c6c274ffe4aa5819421154eb51e2c2d5d6b8db6b9f66f6da2cddd6930beecbab21db8b1b39b28ae6e72792fd3ab5e59232904df7e6e4f0410f3b2b4d29815f19616e858d73d13dbd7da72b140c53f88120b3f3a21dce0f5f80b106432386b2dd9449ff6e93005dfb79ba20d88f43ab61c1a3aee1449c6433b0a604b7efd59b256f34aafc25c929861902b435ae0310b02ba4388c69d5c0c6d401ef1403af2e6433d5601b9fd3de5b55639ebe4015801d5f536515cae0b3c768f8d6184ad9f38a9b91373d434ad43bf3f2072332c37e7e9995992023a3d3fd62315961f76b05d689e9f84766087cd38054289ba28cd83f89915232df9d7a0b7c4acc7d1d482d1e6e4ec54476618aab3ffa64f6c6056ed12c8baadc17953e46851e4c1631033c580d763b3af1a6c7b6a53b9deee7316209d87e54875ee63d499fce1e78c87c3406406e257a1248433c25c89657f294b451a70dfd9572574dcb68a52ba451f3215cb93ea69ced56fd1e85b3feb85ecd9fd8cecf69128632c313083092e0e64d33200a34e756a50f10ae409c1e320a89b5abbc2066f8c5c1660053c8c7c4a8d61d2aef001a740d848e5fa848b65b80b36ac37b8f0e636c08c17011e2a2f53f47f9b898360881c8138f645312a83270d73febdd1e3fcd1a534b1788064b460868784555de7f8ae2c6f13ffc360f12e9e654453c3a4296713257d49bcb002a95e059bc32fe4164223ccb3403b88eaee5d1e4ba45a5786691eb0a22b0a3f4cde81ec8ed35aa040e8672705f5fe14ce2489cb1ad83f1abe03b51fabaf0aac0bac03001ac199ff5db87afb23feb8ef775aa50d0711c7c4ae4a76fa3bf671d4498b7868a9c9cca09e57717a6b9e0e6b0cdd54d140f07491b4835e176215bfd9e9971e83e3ac8faebcfda2c871a5cece60001ca09a9f6b0278b134490316d7b187cc752eebae62c2282ccef31f36a4c9b31b0d3aef6b7602ab57c70b4bbc0a089db5df5eaa2c01beaf25f55d81be07c4c5be6c6849bacd4d8d587bb0b6ac6b9d3e2203c45336dc29808d5be4a24de2c04e4656b767b8d5c43cbabefe334fd478577739d3aa698d6a34cd4bf150f2bf338cf4a651495af5394f5c9fa44d0064a527bb395a15e13534e59f1a65e43bf25c93188ebd40f88cfcc198945d4f66b4ca7461c657ea95670c750cd1747cf6f056ff5ac730f34b879629dd91486daf79fc2f4d5687a58296f7b5d43a16529e7fa18afd79808a9592ad29a7741ba952e56c76cdfd8e7a7d34ca62462fc6fd2f93c6367f1a12cf6fc4ed36f9ae35729fcacaac1c27a4339fd7f37cec8f329056b97cc4c0350b4f7e6670e5fccc6c15f7f10e319a5c8992c01e276510c6fac0667cc75d0a788add56b8593428466f7af9d2a9fbe54b97df45581460973b95b96dcf818438c1a237fc18826d7d53db73d38432a6d80b59e8afe0d306d5fdcc8f8fea77a8493d44c0918f9b15dc8c121349e2a5f70d25cffb164f7ecce6e7154c2fdab1d256eaef1c8f4259b246e9483ca00e4113712c195f5ba79daa39eae3b4ceed4ce424368e92540b28038d60f125379acf981651ad2d79b735ec341918231b2a49a9ecc4b1897424616bf518532005d0d95efd84806cc1cf971c39be20ab634cc9479635600a4e785038e769324e1d4e90e263ec9c689f5814105e7f71b41dce05a814cb7d0db1f916e7118164827b75c03bed174dc5a1afb1bd61b2faf394770e487882ff8ac74b5430870b0447d8ee1f71103934546dd68f8c1027cba6fb95965e625d3ee7e407480313627fb5d5b1808db1d528cca849df7ccb4d82b5f15909fde74d8296f5b61c9ef3f310886153b19a588af2ee84d56353ad37d3fbcc00f60fe68465ffa104b05eecc50205033ab34df23090145416051d5b42d03908cceddd6e3b44be65096935f3e685d9c7fc198946c7a7e06b746f229250516070dc631259b3c9f475a18a7b3ac28083ef6078d6b0ed5525aec8c31fa0bf3715e3e12b448543cf3f6f1887c06af5a6658d46d4eea16b4516b746d8f6803a34f03ec9e102b2f460fd9e4313f0c272051f0c30891355acfa3c03b565c8bfe4d1f3cabb7563d520afc9d0d776a4852b9fb6c92ab918e92bf9143e7b46c3635e0bf1a69718d54f841329d38e147c092da180de6678d0247872f9e788c7c3a1bb94e88147f942b8a130b67d56c0be7926912be46ba4f9742b2894ee5487cb81fd45169812677a7aa791eb5e818b818e089e111578114165f1e0667817231ef5c91db41cf90e6a6bf608ebf23212ed447edecda6ef1a809796e3469624173afcc4cf6c63ebb0109f8020a6402f0a026bcb97d77c59d3cddcea2d2a97de269294889d422ff517438b39bc08e50d66f7c5c4af9895124bfe0dff27266539249bc78ce94cba12988bec7ee56d36d6938bd0f1c402ac23f00bef070193087e5aebe4b6505cb71da28653e51ce59795d5acec09ce20eedd6dced1e37ff7763c589c89c14212b5efe07a69ebebe1e2b0fdbac09c81b5ec4a4c68397c31e334223b5daf230979b03a390c932e5c6526aad639d482daf92a86f97a90734b5448697356f892475bdb054bc4e5196ff4e499b8938614b68573dbeb6d14807b1db8c87d21212aaf36f2103651474d6580ec649f008ebc7bc92971196ea80a0a93c847a960b2e8f07b2bd4bd21865e4c78db68f12289aadc001763d5c5101bca8fce5692959e4debbe3af282b79c1e3d68ebf612e49c310bf47e5316dd93808a0d841d20ac61b4816a35d810d9c97ea5ea1693306142ebcc4b55449e2990fd2720d1b9d9d8742b2e8faec1b15c63bc96f2988fcb0e15ebce7c8472a495d75a25c8b2e66819c7b76055e46081e08b1398f3d79ef43a01e571e5379759f2fa0f7caf03565cb723d314eecd653117bbfbc40a617670d3c6b822d81c52dcdfc1f0cf8408c135de9497da614b9aaa0f3033b1c4b2d88cf8d934c242aa9162fc02608a44a648cebac9f790a966c6fd10951b24b78c31af7e1980fea22b92fa273719203a2b5f2e25c658e8e67041ad7ad4e38d31f38b8303d615f59469cd32eb82418b0de4a6bb44145c8afa344640047bbff7508967b3b2f829e54f8787ade55b28d3553e9e033badc066af2c194e80be68007e84432d90b907968f1891c69619a3cf3157b8921dd1622d05875837929f72e1a910abd2091bc44de47e708cc796fa2a64ed2d8e2421e79ea077dde8f56436f6f0b1e1f5c5a671e8d2b25d5c6e08a77a20f49f523ea817a296f9a50c1289a68103b1ba845e8da06fd83a3e54bc23344cbcfa9c31b7dde79b1c351a53b689865accf8cd6149599b266e15a7464027fb012b3b187609c39088b072be3756d11a70c2db47c31ac9c1f88bd253f0f9c1276abfa9d41a07d7afebcdf062e92e4f03b3a081ba5a3ddddf2bcc448a72a9a9469f1be5c595d4411b06aa1430ce779071702080be14559aeac9b61cd475ab74f9cfe46ee08406cb5e401910598b2b39880996fc4e6a9acf9c538cb0d230601929b98ab21fe260bc1f1c1a6679efefa070f3599fb6a63203d0b06c25f13d8c4caf55d0be65f490e2e2a054c7cd964b89d79316da328ba734364c39691ee98b08cc853c9f17075bcbd78c31b05a14da396b520b579cdc4bc7a18902301bbe4fd6fe144e744931f52e8edca8d1f2cc98e3e5f064f7cc22ddd4007604323c8f181d477de2c2bfd4288c79c2c615c97d62abee14b947ce7880447ea01c53ff59da1ae35d263eede883929f4ab5dd3f008fcf39ca7da906de9a7fa2b998b49b34c936068ef0b14544af8dc267bbafeefbdb0137a4d025c41b6eb2ece73b2c79feccda55a1d269ac8f9728c8a64bd369e5ee1ed9102b1e859631b2dfb86775d9f80555d384c289ab89630e477c0198398126254a190c036d41495149e9aa5d5697c784fcaf3fcf5c000b62f451b55abb13842fbcdd696c2bf482c8a620eec27008368dbb70cf413c2010c6720b37292744262045f2680b9591fcb4a14063a473dbc43f715cf0f102f56debfab1fecb14e7cd421b7dd2abf986f03b15c769bcced57962a5c223f73620f00ced4e3360b1a79eaecb83486fa12dd4fb96630b9e8699481fb37afb084559533a6bc02e486b1939d157c0e77abb445722e6a0e3c05c353c54c3fa4a6c546a229d8cb6b42a42f1b4042a7440b5dfce477d9ded831f78a1c78172583ac9885e1ab15539d83f5d01cd2c2f985061f914ea390cf50eebb6163c269a838b0a24781d1873a041b6cab81c613e7b3fa82bdffcd3622b5b98963cf7e616a6be2f7fa5a53676795b914e5075fc6cf4deabb9243f9385065fe6df3e1b84a1e9ec5ac0f6f4b614b326bdbfd76d8925dc9838e7ced2bc226a6341d2970f20b95e3eeb0a6d0984066106e409006c682c4856c88cdf70c1c99696178a25e2ca50ffc4d39583160cf485ed31e3fb455511cf4308b62a20ab780b971ce0ed3ae6d4282a7344591467308b00acfe7913458b5955ce7b8a28973478f5240ecaaf537e67bfc65b0a323aba87a1995999e5ccda02f551a1b3d768f107e7eefd74bf433609a95c622eac63fe1450df2c411923c4d57c95e908ea0173152283bf8e12f7ce1dc443cbaec852993407eba6455464ad8dae7fd39eaa620d9c1ade0cedf101013b022f1faa50d916af922492c07d0e6c9d06b148ee6fa393f418d726974bdfd5fa90fa7fb8d61880474f4e020e2819569fb723877f0431bd7f045105eec30d0ae28b026579c08b9f0376b7d70be4a3dfa612b8af726db24e19a58ec89820aa2e3dbc756ae3bf74e7ef46169d5f3a04a3307117492dca908aae69000028659fb748101057d2b75b6b34b94d7e655b38ff4042258d353831fbbfed7e7bb585872f29c2804c1322786fd211cc2c223e63c617f26c4839fdffee0e028045c1b4354baac6fff20166d0bc484e673f80fdb26a1a78c077b8d9f86133d3a96b0ed94a6dd53d82dc7b3d73543f307e456e9f07a3e41070904609e09ab9055bf44f4aac7935829d29ab25b8cd587b12d5d857b59a7aedf862400ab748e457ce510ef5b8e94693adb1569ac4ffc716dff1350d152b4488ec8ed9a0c6429e6c98e89a5db069a53c2d393df51b23804c9e9eb51005db5920994c1b03602f4ea2cf78566773911eb3b0eaa0b674815e6e06c18ed09314b281f8fc1c4ec895b9ef06a78adde51ab48dd86d323d493041acd90371a2e8aabd9f05db0fbfd4699603d37279e1aca746ea845b2ccd2d0923633a0868b62ae71201c8527a62cd57d80b9c713e0b092e8314f62475de3dc7b90b19abff3c28598fe70f68dd40f6770020c6d271c694a250d1aa7d7d722418a60dd22074e51ce7e778e0a6e791ce4e07572589ec91fee75f4aab8deb1e8e01905f7d787be403b1be851f2acf1542c9fd0ff32bc786d1a581607ede8efee4cd15c2e8e26dad9da1e5fe6e673b7a095eb2b36b2e7486085c625b29a8054ef1053ed37dabffa28e6cd32a61d9e465d47b30eb5990179dc9527cb58d3d778483102a3f89f6cf6e7ecd493bc15eb469c0902c82ae6f392bc3762d42d61719f5fe97cf8397b033326decb1094a19d99929e368bf53fa4cd9453fc5afc5944cefbdcbd6cc8cc0ae27404ccf31a83c28e6e7ba729616cee8641797c74b06b9eea268bf266c1cc4dd3ca8b76577650b09c934cb79e402fffaea48d060c1c323199df46da9f4435d8a5da49d76377726bfac6bbf2b761c1049a16c2a9b8cb4eb4626c5b1a2de719af715dc8cbe0c2a0e31d1dde37861dfe9c79a420e2934a553d7cb44044a83490521ded430c5568f6231c6410848e205488bb19265fe831f223bd9d48c92d722eda98c0c98473b795e25b55be33fd525d88e486f6857a33cc5344a4002a96de1d74e321f3bc3da78cd2bf6820cbc190973301d0c6e60d99674d3206fa3b0a21930b36c12cfe6791401195189b3d93610ab4796189309f5a7639defecbfde47a712d0d1ba8445532054e8e35a48e7bcc0f59937efb56a34b7381b893d7ea33d988bf41d8f7d6828aa3c31136d53cdbc48dea65771f7d27314badd9ac60254e8d59c1d684d68d903cce20de1d6d5ed1bb195aaefc078567b0bdeb0c98be9d83840e7d0cd6c73f5c420879a1b28b066693648e6314d9a0bb153559fb1b0b647b60980184c0ad0e684cbb03efe39e4f7805b941fdffadacaa562d0e872a63bc6c04437ccb91187e9fcffa93fdbb3e550281e2e6f7a792e241748f351f2829f58067d645481bbe3bcb698621d289fc8a152183354682aee99c544c6c850de6b64e8d620ac29b6b76c81bd4f9638b09d0edc11b06b047eb1e29d847cb84cb17f0d788f2da2c7182ff9a72050f31439893c39d60a6a853d9158e7f7eaffd4d6159cf14a6c25e5fc146f48d025461e8dcd1ab32802305eac175424a9bbff0e1df03d1c2767869d03540d6bd0094ca4377df89d965887fe8408e0d95e708e9637bcdf31de947391b1a77f417461ad1facee63576d30197e7d701a41649068008d972e1fc90df92df6f403b572badbf8354f98df0944f045ad2d17f8d18d19740fd5425ad86422cb7cf8d0b5cf7214c6c09d58999e97542536614f1e2b9d9302c0119344f15640660244fe2c365032f327211c30d69ab69327f3451c186b017fff42ef83b2412c357b80982eed1ea8086cc464b5c6fc9a543fa3909d16afb6642d8c7564cdfd004c8253292a3ebf16667df1ad4a181089bdc63bb9dc480f393c4e37a88e1006ce19e8073776771078c31535b387a428ca9e47889fb0108074738a06dde875dd2a4fae57a8ba8502d22e8300fe8e95c7ee22fe828f7c99d978b4e87fc41f8be286bcf5895259e0878e6dddde162fbe9ac552924c9d6bd8e0de773a2e9631293de52ad504e449f1d9a65f745c4e44778c379b22aa6e168ac41cd0d159628b3b49919d042ae96d1b4f3680ca304b068f5ec5b458f37bb79155226b6e22da0878290e302f3e627e673b88a680e7a53bbd0484a3addae3d615bf1fb68435edcca8e2f53eb207e9c35b797ed8f0f9310b87597554923a15a633c5db202ca8f78cf7a93f186071b9df52832170540f977750f2dcade1e115690ccd8e7a66d7690f662196aba11cc16d967e8638ab4a339184856a47da9a220d2b0b5b89a9d034a585b07fa01c3bf255955cfb1da8de0b2be7a6f2225ab0362523c9321a8731bab0e342b59dba331de5050d90aa5d6f5004ac12040b1970f2637365cca11121c560a76d42828f22ca96fa03b55d512d7d583fbb8a77d6cbdfecdf3fcb3a6f1a5b187d27ef5c4a189940b535b648d29e77db686b9529072919efcd09d7db5c885690c99bd04956dc069b8ad5f32668f2ce213ba3404a55eccd748afb7f7f1de85b1574b3f3d277a4fcf58b622176ea2f3e6aacf6248f993cf89169f3038ce923d50ee1474c9f1d5a49afa02f0e5aa27af1357b5f41b894a8d94bb798a51abdaf2c6e0d4a4722cff388bf3185b45cb309cebc8352f83ab465cc7d69938fc5cb44ad96f92ceeabf6127c3a8a4785fcf497b5faee3082c6ad306124d98ca5dff6566df3cb769fa551b89397a236dedb2c80f7f4a76a1133f42b4cd00e2cf5b104ddb60829d616eb63903d8b3c7b47fc614b400a1d7d8626ec213f31917a11e12a0b27cfeaf1a4590f268e7af1b0de891acb0f3c6917719657bc0c7a6431123ac808ca5d67766dc990b765f9f4ce113f97bc6305fd4331ae3b14a422774c8934934765ed2243801ec50d8bc60dcc06df03b03141b46ee94b0cfad343ddcdc42d2d7580ea59fdd91356da9e9d4b2eae0455bd119dbd2e378c6c4c9df999ba83db1f6e446a752aec1d84014b453302e0f800e2ccf579815c770f39e0e92df7144de0b096b35551d7fbc6a24f76e8ee3d507c91de44355e137556f87ed67474f173d7e246c04c7afdf09bdc08cf8b148af652885902896b7851e9831a7929b25015b07a61a6ac0bab8c9e9ea719d3ec31020ddc83fb4ca0a528da3742de43970fd9c41ecbcff9e1fbb730722e4f6c429d44c818c18ec93494c9065b9ded40ce9521756223bce0098819a17de37271413d065a35a44383137dfcf8257b4171bb5eaa06b242d2e5ee672e92f87f1cfb6de6ef65a81a3370e5e0a05859658c2b5ff012bb2680a33d28b619516529206414e16833529e6c66a23b1b1d8c3b5a2c0fd76d23b5782df13b681368f040153275db454171be9a3d390d5dd7a0e502d65e0a69c44fd8f476af7c5681edd8556ff501185c732b650f1b8754da1f06b26bc5565d9539a0daa4ebae006966ebaed606b9145fe75a9758f7a22c7f3230964e1055daec207a5d4dd7883f488f9d3e5907c07426497e4981c8583842a1fdc157b33056aada18dd1a22ae72b4bfa4a6e23b7fcccc3663501dddb77cc6d072c215db224745e7f371e6003f90b5fdb44ade636f482a42f569b7a4c00abfa67c2289a0dcb2d15aadbefb0c7d81ef2c69e091145ede9e2b7bc571690672aa5a71ffcfa3658e0fa439e0c2a090403aa6f18c1ce6bc1a9cedf102a3559dcabf3cfc9a3885af3199f93e838628fe2002ad76a1b85d809da914892fbd8cde62b26dd0af4c9c448bc393a2a54b986051217d0d7d95ecf166060d3343c2ed037fe2fbeb14d1ab43e12e2eb7a82f4a4d0aa9b179dd714526490e4c5fbb87ed6a9ed98c5a885ccaa5060421cb4cf37a5b7c159207ee5d909f4332b47cf16dcc149e42691229c2318b2c80c1abc3aae94badab202b696300aab0a7ad8ee196b864be6322d357f536992f6d42b0d5bb505682ca8177c8a1fb30a07e96a3894b0bbfcacd0cb6a69be3d7c98d527c5ec7c703b492d2694516f4dbe3dca43269d7f6b164dbc4e584114e4cdd92e24eb81064248e5929c97363c055f7043d79386f69ea3083ef24d046ab7aae989c62288a928b521f2b5cb70e371f32f91a6cacd93d4425e553c7fe74df827344b60e04c40db660b73d85ca240a0dad04d90e11efbac3d54688fa1b94836282e798af57be40d8f2ed17f8b56576b724abc4eb6d37337eaab2960703d32557e381aa67291b584746cd7846c90cff5b764ca19604448feb871aaa295908a67a20b64bf435c5b9a559a6b2fd284db346a5a7c16c586d4023396e4bbe2aa9c6b9eb8c51b94001ec2e77bd77c67a4ff5888464591176198a6f19b48eac8966da64921d1a0ae8bd6503f2f6c5d381e9fc01001f3f9c20c239aaa96765605b127611d49176ffbf7950d2e65be72d8c851726ea33ea44379ed8faf4afbd607ac7dd4eeed3c07c519398a7211281caba35f85c309baec7067dd222ee3e07548e98a6e274e188e69d5f684c96529a75738e17e9dc96b009a0b15779ae4d57fc052e3545a6520f58b3e786364ece73dedaaad0094864f3f74feeaf8f37bafd70d75dba3ebeb0b81ec67439bb30b788c7c0f4eef7397fb53271674f42961d34644896ccf2681707bafb710b1e0635d8ec633b0758ce1ea78af64cf63844f17c47b4b62f59f45e09b65ce96fca2d856eb57a1ae2b414abe516e96486de6494e5e3dfaf58b246f52dfbfc9d499ad56443fa3aa3edb7140bbc14c57bc1452fa8b92498b9a6d780283d32af33542c0656f8d31ad6adf10831665d90e53beb1de8b7c21e3fbb289de044dbee58c9a8df04c9ebfd4d338ca1023e51ffa3c92f79668233a33be3c9520d332b1032c84acd6df6cb6f66040fb44be476ab71557430b7820546315347a1697de6c6463ab0c307c91b91b72881c0b9fcdfa503713d8838c59eb06753a20965a5a4e8db63b358cc57f6a6758224f06c55bc731774a601ac7c24f1b629ce81997a7ef31d3522ca38a9aa405ef24c0b47989234f82df2353036c41136418b304e3a8e78d7b33c475cd250aa70ccc5821f6a375795b7d94b8744075d98eac6394f6639201ffba08c54d7f6ed0d4484c89a4ab6875adb77f1dbdfef5526afde7a287cbccdd1b7096d94dff1e4601ccbca264eb090568c710c791393a2473a6489240b20755c7bc78d152f7b51a35849072f1a0cd4f4d0be0cff46af0c7e4db94c7a8f98304dccb4a17821f58b17e8b48b1c63a651c36ed52b674905d16b212e64759fc41f2c40b6a84ad1ee8b0c794d3f5bd1875dcfbbc87096e799e8c16a55744231157a4589e3e8183735c2a455da5af46187fff0d366e645ed1c39dc27bb5e6431577d5fc0d08e1f7f4633dbf249529a4e0a2abd3fcb5debd8c18e785aa19b576e9de4a515356d4f027ee5053372ec63ae45d269ac66d75a0224a3aee1792d509efdde5743b22b4ab611f7d3a27445860fefdd77010d5db78e852e10c59a2f9bbbe85f336692bfac36de1c4146a2c655f73fa179b36c956b342066e19e7dfe34f76ad1f5dd4f8019097b62c31e519263267b9a6a90cab4afbacf9ae54adb6b7fec7a89b7546ac6fa46193effeee329577d9e046f3064a587b06554d977f118d94b0fde12e4175f68fa7f10e96514fa31054600ee26731f6a98eecc1853d921920bf5a602992cc101e359f27948e3a1c4f139c1a4aa4921ea19ff1bd6a8d54a33efb96409393820d6b3be91102e6c6dd45d134a22f7abb9f927d31223761f91d62f7dc14a99914b375598a5affad10adaa49cc5250c3a6431ce3463fd904d0de9bf41a445956085018506c76b5974fa9ea60307cb84ca822e28036948737e8b3f43257ba21712c40e583a9927c0ea02934395b57527798c99d2c101f36b1848be40a66df255cb61f8bd17078dae1fd6b554b2c8713ac56eeb30a515e11a1ac25803efb7a4b4653028d08ba8b36310e4eb3fe8ab3beff2b9d64b959604af23c120c7a4d79c9dba5ea834a369c2f717af3abc4a5f1b73bac6f9940c20880b69b1b79f5b96613b36434f6668d8e33c76d371c6db52e38d94c94611ede62204aa4b153da8ad9a040395bc62408508e65382809b824335305d0c3e986634c83c68ac6c31b6d08be50a8f94d4defe5caeb84354ce75c6710027c5276ddf17effe9da58e075db2c44e9944ba08d163ce20fe66592d6ef005e7ff05663b17d18b99ea210df496e82d8cb135528e5e9e144df6d096440b7965a018117264cfa2bbd2a88990ef3222323d7dc77dee658a026641241e9c8a552dc90343d5305d13810aab8bff3d5a3ec2138343305afe3ff56f766cab5c12c1558be9f0ddc24ae7f1613e178830c4630d30ab00662134c4809934b2a7e030f6e66918436742da61614d2c07f0aff49a11c448e74a1f7b1bc3774edd044c5a21c33491150868bcbf0d641adbee21d42a8343a9371c921231398e2105517947abe1f825301b640684b81b2db86ac939b812523d3d7bfc494f2b1d153c6f550a31157bb2f20d27de9bf58720ea6d410f83ef94f150f9ebd3ff9aade486a28dcf3ad33f4c060342b2a55bb54352d4224b5890aa4b79873470da15fb81f6b2403b43cd4e03c98787bed745bb44b34b9caf7708f24415ef39c02155ed703cc8751fc997e5d6554dc77c3217e7c566a1e66ca6b1982645942cd664dbf27f75a2c29c004490e1ad881e41658cc481a58b43fdb2cae10c821f341f2d10ad57986527784d1bc3f3722cdb900cba84f6dcf5e93c784e285383858c9659a319cd8946eb8784f8aecac469434e8d248c723eb8daa410ee3445c2f116820bbfa497b71edd5ee190f7328efa9f521a600241f08720a4b811377342781e1c1516ccbfc4626cddb54fb2b2c611c87b27b31e348e1f29606efbcbcc64c728c06c0f1e00605e7d43379b70f3ffbd3cd023a5b44613731fcc4452e62409d95c363930f24cd651c680537d90864e1b12e0f03bdc403af0fb9bbce3084dc5c908793073454a677ec602b95dea39bfa871367f19716e11adfa287fd99f1f80826199ebd342a58b00e13f1f67421581a2cb85fe2aa7b294f996f0323e30cd02def8e4cb9c3a5819d626b4d0141f0cc590bd50f8afd00bf16fc7b7f804fa9774ef0f501a20c90dd37ae6efd70fd565745fa9c5bd738e6972b26432d373140ddf4f6f696e982910307c5b2bfa83191307a90cbbfd6ae7c537d107d3b0878a79b46dd867e3c325fc40a8c2baffdcdefc4afa145e679754b9aebc21b30011cbdd056725a504849715b3d29898ec3d2d199f9cdb16d15cfeee8d02036611bfe599693f2507e2152482157f0317112cd5424ec8749655a19e2111cbc5fb15d0c784cb1d82cc81358bce27a9aed51a2c9adb7758ea1355a3d2e780c0a655af52cce8bc905faf578ac34f2900c11ff3e29a2018b1a24c8f7f2205389141aadfa0669e52aeb260121b7130ef230004823bbf722af5a28202839a937eb104657b82fa8d450de003a4fe04c0e8d8a491079e517e41083ae6cc1d36fc91d7c37f612efd74f75fab935c12a33b75b4225e5ec07cafb0dd21fc60c787584db18a7074aa09c1bcf4731a7ccaeced0257df3dbabe2ee1f680dd98a86da54cb10be517962a639a260681180270ff942c62d727a1496067c91166000f7920b05cddfc4635f3a918ed0ce9a95d4e067dbd5fc9fa4cc7d5593a039281615241084ffa71a72f8f8f63df3fb37c86db62c18c6040637a9d14eb2c5a5f23de4f46b85866f3ff937e31176f6ca01a35f8105dc75d9cef8a701571bc5d353ab95b5b1144b9570281f5d7946cfc133e9d892957cf1cb959f5bdaf2c91240ec9fb5e98a3044f34c2c875ff2a1ffe50af905e0c91e346ce89256e2941bcb72386ff9f586d43fa0406b246523e352a5a81da6f9f7967b1a6aacd38f8e26fb13a6a7e1e9412fd2a238b88ff9227b9eca880a83ad2d36d3ea18458e7e67064de8c806fd9af45197c4337ae195c1a00649001f2b74ed229e023bd177925ff11713ee400e04c4795d1190175b8cd36e5f51b63ecad64f1fdc2916bbaa8eeaf991ead638e55ba190e5393589cedaed1bb325dfb0ff745f4270665ee2affee310cb124fce4ba5cef7cd4c99fcf4578025aedeaf741ac1ded8c519ed61212f6f08492baa8c88a356a33b8578331d55215b0403904a3578979a5f2e9b1e2a9998ad781d665defcced5b4edc5dd1977fb834fc8e8d6cb3dfef024c29bbdde4c46062b86de322daa9ab7f91bed7b62c33bc6a7fcc5db242f71a89df5e2b8e1ed032fe6246a82bee05e0155620cf3bbad1e06e96d710d5752858876f990e597a44aec251277bc842bc1064b9bcf959136e5af38aa29f9b1bcad26b9246134b40e1fcfb75c288320aeed1666835c0003cba7441daf6aa3614fec9cbfa4aa0c1c01e631d58993de705c374aac52e8ec5af45a72e893df6de651c32d0bd5d990294e53b407f8b763147094f2521d1376e6937a730eb327d8e94aa0141176666c87fe114f48cfd899c6cdb6be909d0e55c59e5d3555ff29797091af931734bbcb86cad6d3a63117cc4fc4139f9dc7b28e1d05daa6ac8a869578ab5c3b0f01d97ddb539844897b0353cc618510251f71a5212d368c85d0decc9e5624a110c5015c88cce92ebcdeb94ac0d5660f4523f28b8897799d81477366fe05bbc405ef511203d864a45e32c9fefb50b9cfb05a0878d6a866e9e9191ee545c359d58652f0534396a01b1ca987df761f0009fca01081c480ec1fa23f6d0929856dff33089bd41ff60bc42857bb160ebbfdbad620e042d27cb48c7885f7397d30d6587398cda72de0b95d809d0f87569168b6623521da0633820e0a5a3ed3b4385cd35fa8e3194cc76233ab59f0af9c00de7cee342411b76c0c69b190eac5b6c749308a4c263bc794c3f343e3fa0dfe40283fb4108654d00c26e9e085a9657a6e60d0f7b3828fc78bd91e684e0fe813b461a09016238c2b7d417ccf75efa3af63e28e426d56b9ccca7dc805e71fe93f49c6df31c4cb20801296a6d762a2903eaa06028d16a99c85ff42565929973aac602682d77d97069ed07378129c3bf2a5c89e643b8bdf9127a7237bc093a22051a1ea0aa96758ef15e08fcdeaed627e4ddb06044e3bffa2dff980956250e8df4cdeb7ecf4d861588c524b396c9996e9954137105394ea14ed95cb1699e6289396f7e66a2da6ff840118c049bef4cfd9bbf79213823fd7c247a0c064bcbca6d655cd6cf4d045c0ce75f0e013291c52c25dacec689c02c115290ca85c032ee8b61863f72cf0f8491eaeb2a68d0c28686b0d37cd7f93f602d7e4f6c33ac2a8bd8c500a9c0c2c625ab89d40a15017eea8fae1ddde235473c30ce87681156238d353265ca5cc0964febb4967038eb5494ba627265850c0a5a1fae18e0915256bb5986fce74c5357aa0008ff372959fcea0f7fe343112570da37db01a6e4180715e2405a36ceb1242eff609c86d5551073842cf2f46b9de1bc8420a978dc8778d2d9158ccc5d8bef3d4da9437296564b657cbbbde30bf0591933bf9e7cbae2b00fc856fa3354354a583ef9081276e1fe0c4dbbd518abc9c35389aab1c460fc49df7f132c7702ed1cbf53eb33e3c0d26ded36e09e9bc6795c20a49747c3e3e37f2f3b8476e49bff4cdc5ad67eb91738656578ce65785634892d8708268a5111784a357dc800061423017c20c8b70a1ec1cd016a6c7c48247cdf5814b97db05efaf75717ba5daf40b3d09db7bd0f4d9c5b497b7cc877d3266dc2298c01abc3317a56d0730e09aaacdd2ce4fc24474cd2d690bad977c138e37a00958a0eab1112e1cf678f9570d6c3b36896d512119d622fd4a8098db65eaa0b199a8230281981bebf343aac7dbb792f5c556b307c9b48063ac77b9eb89261787e4dece896008f424876e6ee80cffb8bfed7468ac05ae5f87a5ecc2471caca0cafc36f8db5a2e1841e0e9776171f5e53d18a9e01d7bd3d1e49ab7a1e4d490359ae5959e384c0646a9e8732cf345d2554e217ee500c8fc51560ec81dcb42af6a06c0d9555347470be0b55b1cf9f50cbac405650ed52716f4e0ea77085eaad1542e222f62c5f9f12d686271124f23c8621b0f1c8b2051aeec1b2140810f4a5ca3b1883cef11efa24cd8f8afca51dc4e5e9126e8856a9d19bddc795483a8dc4d26aa2aab8174f7e8fd7f9f98366335edeb7dedc0eafb08ba714360d85da6ae855d85b45506797c906aaf5e10cf651c10b26a42442d08606584e3e4628d8a2eb40f6e8505daafe177bae6cab9270056f0fa1e7749e9fe9a1efda3290f9ea143ffcb38b79e9dc97235cc02d2214872b6469e8228af9335602163ed0eeb5f0986c80a250fb1048ca2ec7a11b91a6cc945ca9b97e7d76f84ff1618b296a1e04944c7b51af34c48ae6cef56f0e8b2f39ddd2d0104e9429d4281b815c22efc0206ec1504bc5667a00d5103c8b11e098aa43d5dcc7ad08e78c38cf115770da760ea7951008b8168cd11c5bc6a6dbfa1b0fb496f7564082a24458a844dbe997b411fae6c3ec0755a7c3427b68fefaafca6843246b70cbb9c47ed24ff7f00715c065568892643d4f4532196b52740a44a35f5a9c442ecbcf3abd3bdc2046045ad9c2e53dd57ae1db3e56a0cf3265d0762589d5163e066f8d8d9725f9ea20ada257f0c1125416c100c53ff539170cd44cb4001eca6aefcff9426997c80ac2471d954551ebe5bd4eb089d7a573fcb9572839914ae796c02571dc7517f1be3bbcea54b5909729af2c9f12429861702576cb48efbc1fbced6fdff6ce2d06f820e07a1653d1dbb8bdaedfd9db1d7dffb2aaa32101dc0337c8c3a7036ee2574cb074706b5ced2f291bb053827265f17887406d300b6d4eff0cf6b0abed0d97498c065f766fc6aba4727836a743444702e4e44d301528a27f104f9269348119781455165e6fd7a29af04283f2fb67dcfcdcedaa006cab85e9d9aa1b3ec30389b93fe9408c83e9067cb229d9b4496e9b4001ce86bc4ae5ad3ee75f5d4ee882ed374e697b71b57352a8aaaa6a6fce5f34aa1d1cb03dfa2e0e3798e808aa2ff7ee56785902de408fca55659c24473e9577075d8525da039ec103ce3cd6438fec0fcb509a8fb343865a757cfb0e58f50b949d0db21249d232a7fe2821df81af5cad03f214432f9150becabb931bd40fa29f08745a95383b99737afa167785c8adf27eeb8eebadfd55e2ac592d6f9a1de726864d38c4a966733b0c16459af4cf3a6b49fc1640bce579e14f8a99b1efa4baf4d7e7a08bcfad71c565c806070c183d01c883c1e75921107a3a3e8790da32dfa430d3273fd6e2ba5ae1abf5975d6700d2cd17ae5bcfafbadf6a071a3dc724dd7dc74ea3275b4b7ca919b6e5ec64223987e7fe240903b7a77ad48d0a21d055068341776f7b15cdfb0e1242d8eef5bb8339f062dbf493f114e1a208a935f9d8ba4d379cb28c8465d0c4b5aef32657755eb8320a8bead59df6ce617e7e6624ac76296bcba58615a8666dfbce22f63f8293a978a074ab9b7e0eb3354555b1091c20cbb2b23b5b2c9f872a4b8d2d5617b55722920616eeb3751a1c999c04614c2e4678d7600817bcc57d19d7a174664f6f7bc0177a12b9b5a1faad0aac2f4d3b30dbd6fea3eaa0afc77d42695a36f2badbae3f6168902125948242a375596cb43a4bc708f3ea979ea34b0cf53c67447819e7b15d8e93a79807753afc443ea79372933edd6dbad5ae3d4a083362c9bf9a26e36975c4df79d0661e5df7785ee560e24254c74bfa4df979dda8ba040659ee094770f7a3925ce356749dc6d8206058a4fdb5ef12cef61d56072ac62f8858339d6715241f30d84f9acb146986e0f9251fc411a5beffb10dbdbc2949dab66ba5765825742dd33f14e79d081bd54073ac444cfabe18f4d5d2f64e5696c9079f98b728a2b787d3c54ef0dbf490ee02232f4a28b675c8181a2a17c2b7b20e0c4dca72d014b2bf43d5101d5754726f064997f51abfbc558689207266d3b4553e3555f252782086b77afdb1767524c01ffb564d76ba5f65e984cfb78f833c0ef59ece56ccda4c2fe665a51af194d7f39c5800412ff1ebae9b2f6f908fc39eb4529ef6acd24643910fb70fc02f0f3d49f22f18f1265dd958e131be8f9b0188a0bf4b9758a11d4a1912837ee03bdd5eb4cd4c085791a99c078c3a81156b167c7ea45c1db86eb9a9f73748709d25611a6f3608bbabb758cabe0cf6c308e773c2501ebe328ac35a0d5e06be7ce5eaed0a9a9f01f73555b18b325745ce9389b8bc98cea3e348f496ccf7b9690aed1d697d8722c9e077ac6d47d5c888c95c5a84217d7e2a66ea613aafaf615598c7105307bf35057bbd89569ca21e4efd5f92bdc4cea067e994dc16ff1b119ca56fa9c8e4796aedf18b0b856b4a78a222c7472851b3308ba467c88e2a782996393181cea4844c2755deb87a18e17f01904bbbf6c1d444f62cb507d763c2b2d9dda4d693a4951cbac1c6ca2dc207e678182841bdcacb543c9cf976a0dae087affe17fd3eace8848ed372eb3628f72fd6ef590b97937780c89e897ca871af119ee73110e065ce5ede7c3d7831c5845b850256e018f8c5cdee4d88e9849fd343bb418bceaac51f98d90335dc30ce3e30459ffe8855f8ed1d3299aca8dd505de728863020208d30885e1801097ee5ffea8f86e16c71221cbe39e356b1154dd64b416d4954be01144c586d4117fe8f704f5f71562eb23d92bb87b41e006bc0f9dfece3877240d7b5959029202980236581831349bc611c0f91e4db1eabbed1325ae7e80816e663758486b6bd49c9154eb4195a085de5e6df10c5efcd9805d820e177299b77a493280573e5245fc6cc6b1ac2451b57d2b9415ea53f9913e7689c3f1ef359ed4bab47113caa2efe6b85acb63d7039c52b53d6b0f0ae2d4ac69f4571ff3fde7f68c56411028c5530d47c57cd801b712e19b82e6594b28f81c5744a0d0d8f6f114d29bcdf5d2fbde92ecaedb641c0c8606108bac1afbaa82dbecd7be460fcaba7bac1e1910b1165f19c8118816b258dcfb419a5dcc22311516d30f12801e0d8b5cc94ce46e245bc94d121c3f4c3e909ff037fcb312eee7d4747faf33624141c449d685183d2e14fa4d1148fffe82a67b46747c7b7aa89aa60a26bb42d25378ce6cba57d6964663ad47cbb3dce7416b46a4129dc054bee3632f2abebaf9f2b483b0baa4707573f2a4716176df7f64242bbc2e3c252a175ab26089c7d438bd56dc02d0612d050f014c6b0d0c3a8b8c1183454f441105d906a27c889ccd33c9ce84b43ffa8d767cf3fe1c750d66bb642f1d6898ea649534a1339347ac1194bb03317a3a74d22dc76ff31096961f90c43b2add44db85dc85b17b3170b5afb20025353a031405b5655b7daf8165f86d26bec8969b35ec0a13387fcdfa676a12fc888e5b0d461e813c2e1b728b49de2f565aeef96d1d56f2b7d49bb1c4c9e0d43e570e983aa7e18ad321484e6e6c390d406659fdc23e9213c244640144f6b53389b1329af429bda780308abd4e6e0b24339b3632ff99b105393b57a5bdf1659bae9b836d6a4d79fd3a9f585ea35007609cdc0c86ede86a1b57f97a170d73830cc543871e9b0df14a109e98be9efd8ccb5e1d4db362e53ce167a61368fd6ddd408de607abdc1d4ad29f0addbaa063abf7a87a1a59b4ac5dca3910a4fad21374c510ebc9e5120a44a7831070fb21e1adab7c1903797d797c85c9b292f19371fd9bfd679c0b552a9b3c20e380ead62bdb7ff91b6aea76","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"29fd50bf23ca59e8b0d472d24393f84d"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
